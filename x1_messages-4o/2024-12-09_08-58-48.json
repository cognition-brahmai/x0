[
    {
        "role": "user",
        "content": "Can you help me design an algorithm to find the missing number in an array of integers ranging from 1 to n?"
    },
    {
        "role": "assistant",
        "content": "Certainly! To find the missing number in an array of integers ranging from 1 to n, you can use the following algorithm. This approach is efficient with a time complexity of O(n) and space complexity of O(1).\n\n### Algorithm: Sum Formula Method\n\n1. **Calculate the Expected Sum**: \n   - The sum of numbers from 1 to n can be calculated using the formula:\n     \\[\n     \\text{Sum}_\\text{expected} = \\frac{n \\times (n + 1)}{2}\n     \\]\n\n2. **Calculate the Actual Sum**:\n   - Iterate through the array to calculate the sum of all numbers present in the array:\n     \\[\n     \\text{Sum}_\\text{actual} = \\sum_{i=1}^{\\text{len(array)}} \\text{array}[i]\n     \\]\n\n3. **Find the Missing Number**:\n   - The missing number can be found by subtracting the actual sum from the expected sum:\n     \\[\n     \\text{Missing Number} = \\text{Sum}_\\text{expected} - \\text{Sum}_\\text{actual}\n     \\]\n\n### Example Code in Python\n\nHere's how you can implement this algorithm in Python:\n\n```python\ndef find_missing_number(arr, n):\n    sum_expected = n * (n + 1) // 2\n    sum_actual = sum(arr)\n    \n    missing_number = sum_expected - sum_actual\n    return missing_number\n\n# Example usage:\nn = 5\narr = [1, 2, 3, 5]  # Missing number is 4\nmissing_number = find_missing_number(arr, n)\nprint(f\"The missing number is: {missing_number}\")\n```\n\n### Explanation:\n- **Expected Sum**: For n = 5, the sum of numbers from 1 to 5 is \\(1 + 2 + 3 + 4 + 5 = 15\\).\n- **Actual Sum**: The sum of the array [1, 2, 3, 5] is \\(1 + 2 + 3 + 5 = 11\\).\n- **Missing Number**: \\(15 - 11 = 4\\).\n\nThis method is simple and works well for arrays where there's exactly one missing number in a sequence from 1 to n. If the array contains duplicates or multiple missing numbers, a different approach would be needed."
    }
]