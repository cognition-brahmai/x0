[
    {
        "role": "user",
        "content": "I am working with a Pandas DataFrame in a Jupyter Notebook which contains URL request strings that can be quite long, with hundreds of characters without any whitespace separating them. Pandas seems to only wrap text in a cell when there's whitespace. If there isn't whitespace, the string is displayed in a single line, and if there isn't enough space my options are either to see a '...' or I have to set `display.max_colwidth` to a large number which makes the table hard to read with a lot of scrolling. Is there a way to force Pandas to wrap text, say, every 100 characters, regardless of whether there is whitespace?"
    },
    {
        "role": "assistant",
        "content": "To achieve text wrapping in Pandas without relying on whitespace, you can manually insert newline characters (`\\n`) into your URL strings every 100 characters (or any other specified interval). This approach will force the text to wrap in the Jupyter Notebook output. Here's one way to do this using a helper function and applying it to the DataFrame:\n\n```python\nimport pandas as pd\n\n# Sample DataFrame\ndata = {\n    'URL': [\n        'https://example.com/very-long-url-that-continues-without-any-whitespace-and-keeps-going-and-going-and-going',\n        'https://anotherexample.com/some-more-long-urls-that-continue-without-any-whitespace-and-just-keep-on-going'\n    ]\n}\n\ndf = pd.DataFrame(data)\n\n# Function to add newlines every n characters\ndef wrap_text(text, width=100):\n    return '\\n'.join([text[i:i+width] for i in range(0, len(text), width)])\n\n# Apply the function to the 'URL' column\ndf['URL'] = df['URL'].apply(wrap_text)\n\n# Display the DataFrame\ndisplay(df)\n```\n\nIn this code:\n\n- We define a helper function `wrap_text`, which breaks the string into segments of a specified width (e.g., 100 characters) and joins them with newline characters.\n- We apply this function to the `URL` column of the DataFrame, which modifies the content to include newline characters at the specified interval.\n- Finally, we display the DataFrame using `display(df)`, which will show the wrapped text in the Jupyter Notebook.\n\nThis way, the text will wrap at the desired interval, making it easier to view the entire string without adjusting column width settings."
    }
]