[
    {
        "role": "user",
        "content": "How can I use Regex to find tags with Beautiful Soup in Python? I want to match any list of tags. For example, I tried using the following code:\n\n```python\nsoup.findAll(\"(a|div)\")\n```\nBut, it's not working as expected. My output should look like this:\n\n```html\n<a> ASDFS\n<div> asdfasdf\n<a> asdfsdf\n```\n\nMy ultimate goal is to create a scraper that can grab tables from sites. Sometimes tags are named inconsistently, and I'd like to be able to input a list of tags to name the 'data' part of a table. Is there anything in Beautiful Soup that allows me to do this?"
    },
    {
        "role": "assistant",
        "content": "To achieve the goal of finding multiple tags using Beautiful Soup and regular expressions, you can use the `name` argument with a compiled regular expression pattern. Beautiful Soup allows you to pass a regular expression to `findAll` (or `find_all`) to match tag names. Here's how you can modify your code to achieve the desired output:\n\n```python\nimport re\nfrom bs4 import BeautifulSoup\n\nhtml_doc = \"\"\"\n<html>\n<body>\n    <a> ASDFS </a>\n    <div> asdfasdf </div>\n    <span> not this one </span>\n    <a> asdfsdf </a>\n</body>\n</html>\n\"\"\"\n\nsoup = BeautifulSoup(html_doc, 'html.parser')\n\n# Create a regular expression pattern to match 'a' and 'div' tags\ntags_to_find = re.compile(r'^(a|div)$')\n\n# Use the compiled regex pattern with find_all\nmatched_tags = soup.find_all(tags_to_find)\n\n# Print the matched tags\nfor tag in matched_tags:\n    print(tag)\n```\n\n### Explanation:\n\n- **Import Modules**: Import `re` for regular expressions and `BeautifulSoup` from `bs4`.\n- **HTML Document**: Define your HTML content as a string.\n- **Soup Object**: Parse the HTML document with Beautiful Soup using the `html.parser`.\n- **Regex Pattern**: Use `re.compile` to compile a regular expression pattern that matches the tag names you're interested in (e.g., `a` and `div`).\n- **Find All Tags**: Use `find_all` with the regex pattern to find all tags that match the pattern.\n- **Print Matched Tags**: Iterate over the matched tags and print them.\n\nThis will give you the desired output, matching only the `a` and `div` tags as specified in your pattern. You can adjust the regex pattern to include any other tags you wish to match."
    }
]