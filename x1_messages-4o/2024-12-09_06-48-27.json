[
    {
        "role": "user",
        "content": "How can I get the key in a dictionary by its value in Python? I have a dictionary that maps names to ages, and I'm trying to search for a name by entering an age. I'm not sure how to retrieve the key (name) once I've found the matching value (age). Also, I'm encountering a `KeyError` on line 5 of my code, and I'm not sure how to fix it. Here's the code I'm currently using:\n\n```python\ndictionary = {'george' : 16, 'amber' : 19}\nsearch_age = raw_input(\"Provide age\")\nfor age in dictionary.values():\n    if age == search_age:\n        name = dictionary[age]\n        print name\n```"
    },
    {
        "role": "assistant",
        "content": "The issue you're encountering is due to trying to access a key using a value directly, which isn't possible with dictionaries in Python. In dictionaries, you can only directly access values using keys, not the other way around. Additionally, you're getting a `KeyError` because you're trying to use a value to access a key.\n\nTo find a key by its value, you can iterate over the key-value pairs in the dictionary and check the values. Here's how you can modify your code to achieve this:\n\n```python\ndictionary = {'george': 16, 'amber': 19}\nsearch_age = int(input(\"Provide age: \"))  # Use input() and convert to int, assuming Python 3\n\nname_found = None\nfor name, age in dictionary.items():\n    if age == search_age:\n        name_found = name\n        break\n\nif name_found:\n    print(f\"The name corresponding to age {search_age} is {name_found}.\")\nelse:\n    print(f\"No name found for age {search_age}.\")\n```\n\n### Key Points:\n1. **Use `input()` instead of `raw_input()`**: If you're using Python 3, replace `raw_input()` with `input()`, and convert the input to an integer since dictionary values are integers.\n\n2. **Iterate over `dictionary.items()`**: This allows you to access both keys and values simultaneously.\n\n3. **Check for matches and handle no matches**: Set a flag or variable to track if you've found a match and handle the case where no match is found.\n\nThis solution will help you find the key based on the value while avoiding the `KeyError`."
    }
]