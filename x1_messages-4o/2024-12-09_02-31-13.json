[
    {
        "role": "user",
        "content": "I am new to Python and Flask and encountering a problem while trying to render a HTML template using Flask-Restful. My application has a templates folder containing two files. The first file is a basic HTML template and the second file extends the base file and contains a block with the title and main content. I am using the following function to render the 'index.html' template:\n\n```python\nfrom flask.ext.restful import Resource,request,reqparse\nfrom app.business.login import Login\nfrom app.business.appointments import Appointments \nfrom app.models.models import User, Address,Appointment\nfrom flask import render_template\n\nclass AppointmentController(Resource):\n    def __init__(self):\n        pass\n    def get(self):\n        return render_template('index.html')\n```\n\nHowever, when I start the server and navigate to `http://0.0.0.0:5000/appointment`, the browser treats the response as a String rather than HTML. The HTML tags are visible in the browser instead of the rendered content. How can I fix this issue?"
    },
    {
        "role": "assistant",
        "content": "When you encounter this issue, it generally means that the `Content-Type` header of the HTTP response is not set properly to `text/html`. This can happen when you are using Flask-RESTful, as it is primarily designed for API responses that typically return JSON.\n\nTo fix this issue, you need to ensure that the response is correctly marked as HTML. One way to do this is to override the `Resource` class's `get` method to specify the `Content-Type` header manually. Here's how you can modify your code:\n\n```python\nfrom flask import Response, render_template\nfrom flask.ext.restful import Resource\n\nclass AppointmentController(Resource):\n    def __init__(self):\n        pass\n\n    def get(self):\n        # Render the template\n        rendered_html = render_template('index.html')\n\n        # Return a Response object with the correct content type\n        return Response(rendered_html, content_type='text/html')\n```\n\nBy returning a `Response` object with `content_type='text/html'`, you ensure that the browser interprets the response as HTML.\n\nAdditionally, make sure you have included the `AppointmentController` resource in your Flask app using Flask-RESTful's `Api` and `add_resource` method. For example:\n\n```python\nfrom flask import Flask\nfrom flask_restful import Api\nfrom your_module import AppointmentController  # Adjust import as necessary\n\napp = Flask(__name__)\napi = Api(app)\n\n# Add the resource to the API\napi.add_resource(AppointmentController, '/appointment')\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\nThis setup ensures that your Flask-RESTful application correctly serves HTML content when navigating to the specified endpoint."
    }
]