[
    {
        "role": "user",
        "content": "I have written a Python extension module in C++ which I intend to distribute using setuptools. The module will have binary distributions for 32- and 64-bit Windows, built with setup.py bdist_egg, and a source distribution for UNIX-like platforms, built with setup.py sdist. I plan to license the module under the BSD license and have my LICENSE.txt file in the top folder alongside setup.py. I am having issues including the LICENSE.txt file in the installation package using the following setup.py script:\n```\nfrom setuptools import setup, Extension\nfrom glob import glob\n\nsetup(\n    name = 'Foo',\n    version = '0.1.0',\n    ext_modules = [Extension('Foo', glob('Source/*.cpp'))],\n    package_data = {'': ['LICENSE.txt']}\n)\n```\nThe license file is not being included in the installation package, possibly because the setup.py file does not define any packages, only a single extension module. How can I fix this and successfully include the LICENSE.txt file in the installation package?"
    },
    {
        "role": "assistant",
        "content": "To ensure that your `LICENSE.txt` file is included in your distribution package, you should make use of the `include_package_data` and `MANIFEST.in` file. The `package_data` keyword is typically used for package data, and since you don't have a package defined, it's not applicable here. Instead, you can specify non-Python files to be included in the distribution with a `MANIFEST.in` file.\n\nHere's how you can do it:\n\n1. **Create a `MANIFEST.in` file**: This file should be placed in the same directory as your `setup.py`. It specifies additional files to include in the distribution.\n\n   ```\n   include LICENSE.txt\n   ```\n\n2. **Modify your `setup.py`**: Update your `setup.py` to ensure `include_package_data` is set to `True`.\n\n   ```python\n   from setuptools import setup, Extension\n   from glob import glob\n\n   setup(\n       name='Foo',\n       version='0.1.0',\n       ext_modules=[Extension('Foo', glob('Source/*.cpp'))],\n       include_package_data=True,  # Ensure this is set to True\n   )\n   ```\n\n3. **Build your distribution**: Now, when you run `python setup.py sdist` or `python setup.py bdist_egg`, the `LICENSE.txt` file should be included in the resulting distribution package.\n\nBy following these steps, your `LICENSE.txt` file should be correctly included in both source and binary distribution packages."
    }
]