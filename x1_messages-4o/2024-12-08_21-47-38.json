[
    {
        "role": "user",
        "content": "Data format:\nYou must have [Google Maps API] data type in the following Rewrite prompt\nRewrite prompt:\nI am trying to create a route planner to reach my destination using the Google Maps API. My start location is Interlaken, Switzerland and my destination is Lauterbrunnen, Switzerland. \nHow can I use the Google Maps API to generate a detailed route plan, including the distance, time, and directions for each step? \nAlso, how can I customize the route based on my preferences, such as avoiding toll roads or highways? \nPlease provide a sample code snippet that demonstrates how to use the Google Maps API for this purpose."
    },
    {
        "role": "assistant",
        "content": "To create a route planner using the Google Maps API, you can utilize the Directions API, which provides detailed route information including distance, estimated time, and step-by-step directions. Below is a detailed explanation along with a sample code snippet that demonstrates how to achieve this, including customization options.\n\n### Steps to Generate a Route Plan:\n\n1. **Enable the Google Maps API**: Ensure that you have enabled the Directions API in your Google Cloud Platform account.\n\n2. **Get an API Key**: Obtain an API key from the Google Cloud Console.\n\n3. **Use the Directions API**: Make a request to the Directions API endpoint with the necessary parameters.\n\n### Sample Code Snippet:\n\nHere's a basic example using Python to get the route details:\n\n```python\nimport requests\n\ndef get_route(api_key, origin, destination, avoid=None):\n    base_url = \"https://maps.googleapis.com/maps/api/directions/json\"\n    params = {\n        \"origin\": origin,\n        \"destination\": destination,\n        \"key\": api_key,\n        \"mode\": \"driving\",\n    }\n    if avoid:\n        params[\"avoid\"] = avoid\n    \n    response = requests.get(base_url, params=params)\n    if response.status_code == 200:\n        data = response.json()\n\n        # Extracting route details\n        if data['status'] == 'OK':\n            route = data['routes'][0]\n            legs = route['legs'][0]\n            steps = legs['steps']\n\n            print(f\"Total Distance: {legs['distance']['text']}\")\n            print(f\"Estimated Travel Time: {legs['duration']['text']}\\n\")\n\n            for step in steps:\n                print(step['html_instructions'])\n                print(f\"Distance: {step['distance']['text']}, Duration: {step['duration']['text']}\\n\")\n        else:\n            print(f\"Error: {data['status']}\")\n    else:\n        print(\"Failed to retrieve data\")\n\n# Replace with your actual Google Maps API key\nAPI_KEY = \"YOUR_GOOGLE_MAPS_API_KEY\"\nORIGIN = \"Interlaken, Switzerland\"\nDESTINATION = \"Lauterbrunnen, Switzerland\"\n\n# Call the function without avoiding any roads\nget_route(API_KEY, ORIGIN, DESTINATION)\n\n# Call the function avoiding tolls and highways\nget_route(API_KEY, ORIGIN, DESTINATION, avoid=\"tolls|highways\")\n```\n\n### Explanation:\n\n- **`origin` and `destination`**: These parameters specify the starting and ending points of the route.\n- **`avoid`**: This optional parameter allows you to customize your route by avoiding certain types of roads, such as toll roads or highways. You can combine multiple values using a pipe (`|`).\n- **`mode`**: You can specify the mode of transportation, such as driving, walking, or bicycling.\n\n### Customization:\n\n- You can customize the route by specifying preferences in the `avoid` parameter, such as `tolls`, `highways`, `ferries`, and `indoor`.\n- Modify the `mode` parameter as per your travel method.\n\n### Note:\n\n- Ensure that your API key is kept secure and not exposed in publicly accessible code.\n- Depending on your usage, you might incur costs as per Google's pricing policy for the Maps API.\n\nThis code snippet demonstrates how to use the Google Maps API to generate a detailed route plan and customize it based on specific preferences."
    }
]