[
    {
        "role": "user",
        "content": "How can I draw a rectangle over a specific region, specifically the global maximum, in a matplotlib graph? I have tried using plt.axhspan, but the rectangle does not appear when I call plt.show()."
    },
    {
        "role": "assistant",
        "content": "To draw a rectangle over a specific region in a Matplotlib plot, such as highlighting the global maximum, you can use the `matplotlib.patches.Rectangle` class. Here's how you can do it step by step:\n\n1. First, identify the coordinates of the global maximum in your data.\n2. Create a rectangle at that position using `Rectangle`.\n3. Add the rectangle to the plot using the `add_patch` method.\n\nHere's a sample code to demonstrate the process:\n\n```python\nimport matplotlib.pyplot as plt\nimport numpy as np\n\n# Sample data\nx = np.linspace(0, 10, 100)\ny = np.sin(x)\n\n# Find the global maximum\nglobal_max_index = np.argmax(y)\nglobal_max_x = x[global_max_index]\nglobal_max_y = y[global_max_index]\n\n# Define the rectangle width and height\nrect_width = 0.5\nrect_height = 0.1\n\n# Create a plot\nfig, ax = plt.subplots()\nax.plot(x, y, label='sin(x)')\n\n# Create a rectangle patch\nrect = plt.Rectangle((global_max_x - rect_width / 2, global_max_y - rect_height / 2),\n                     rect_width, rect_height,\n                     linewidth=1, edgecolor='r', facecolor='none')\n\n# Add the rectangle to the plot\nax.add_patch(rect)\n\n# Add labels and legend\nax.set_xlabel('x')\nax.set_ylabel('y')\nax.legend()\n\n# Display the plot\nplt.show()\n```\n\n### Explanation:\n\n- **Identify the Global Maximum**: Use `np.argmax(y)` to find the index of the global maximum in your data array `y`. Then, use this index to get the corresponding x and y values.\n\n- **Create the Rectangle**: A `Rectangle` is created using the coordinates of the center of the rectangle and its width and height. Adjust the width and height to suit your needs.\n\n- **Add the Rectangle to the Plot**: Use `ax.add_patch(rect)` to add the rectangle to the plot.\n\n- **Display the Plot**: Use `plt.show()` to display the plot with the rectangle.\n\nThis method should correctly display a rectangle over the global maximum region in your plot. Adjust the `rect_width` and `rect_height` variables to fit your specific needs."
    }
]