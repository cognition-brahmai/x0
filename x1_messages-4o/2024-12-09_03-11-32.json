[
    {
        "role": "user",
        "content": "I am trying to move the x-axis titles to the top of the plot in matplotlib. I have a heatmap and I am attempting to use matplotlib's set_label_position function to achieve this, but it's not having the desired effect. Here's the code I'm using:\n\n```python\nimport matplotlib.pyplot as plt\nimport numpy as np\ncolumn_labels = list('ABCD')\nrow_labels = list('WXYZ')\ndata = np.random.rand(4,4)\nfig, ax = plt.subplots()\nheatmap = ax.pcolor(data, cmap=plt.cm.Blues)\n\n# put the major ticks at the middle of each cell\nax.set_xticks(np.arange(data.shape[0])+0.5, minor=False)\nax.set_yticks(np.arange(data.shape[1])+0.5, minor=False)\n\n# want a more natural, table-like display\nax.invert_yaxis()\nax.xaxis.set_label_position('top')  # This doesn't work!\n\nax.set_xticklabels(row_labels, minor=False)\nax.set_yticklabels(column_labels, minor=False)\nplt.show()\n```\n\nBut the x-axis labels remain at the bottom of the plot. What am I doing wrong?"
    },
    {
        "role": "assistant",
        "content": "The issue you're encountering is due to the fact that `ax.xaxis.set_label_position('top')` sets the position of the x-axis **label**, not the tick labels. To move the tick labels to the top, you need to set the ticks' position using the `ax.xaxis.tick_top()` method. Here's how you can modify your code to achieve this:\n\n```python\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ncolumn_labels = list('ABCD')\nrow_labels = list('WXYZ')\ndata = np.random.rand(4, 4)\nfig, ax = plt.subplots()\nheatmap = ax.pcolor(data, cmap=plt.cm.Blues)\n\n# put the major ticks at the middle of each cell\nax.set_xticks(np.arange(data.shape[0]) + 0.5, minor=False)\nax.set_yticks(np.arange(data.shape[1]) + 0.5, minor=False)\n\n# want a more natural, table-like display\nax.invert_yaxis()\n\n# Move x-axis tick labels to the top\nax.xaxis.tick_top()\n\n# Set tick labels\nax.set_xticklabels(row_labels, minor=False)\nax.set_yticklabels(column_labels, minor=False)\n\nplt.show()\n```\n\nThis code will place the x-axis tick labels at the top of the plot. Note that we're using `ax.xaxis.tick_top()` to move the tick labels, which is different from setting the label position."
    }
]