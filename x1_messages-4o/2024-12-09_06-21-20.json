[
    {
        "role": "user",
        "content": "How can I declare a global constant in Python? I have some heavy calculations that I want to execute when my program starts, and then I want to save the result (a large matrix) in memory so that I can reuse it. My program contains multiple files and classes, and I would like to be able to access this variable from anywhere. Also, I prefer to define it as constant. Can you guide me on how to define a global constant in Python?"
    },
    {
        "role": "assistant",
        "content": "In Python, you can declare a global constant by defining it at the module level in a separate module (file) and then importing it wherever you need to use it. Although Python does not have a built-in constant type, you can follow a convention of using uppercase variable names to indicate that a variable is meant to be a constant.\n\nHere's a step-by-step guide on how you can achieve this:\n\n1. **Create a separate module for your constants**: You can create a new Python file, let's say `constants.py`, which will store your constants.\n\n2. **Define your constant in the module**: In `constants.py`, perform your heavy calculation and store the result in a variable with an uppercase name to indicate it is a constant.\n\n    ```python\n    # constants.py\n    import numpy as np\n\n    # Perform your heavy calculations here\n    LARGE_MATRIX = np.random.rand(1000, 1000)  # Example of a large matrix\n    ```\n\n3. **Import the constant in other modules**: In any other file where you need to use this constant, import it from the `constants.py` module.\n\n    ```python\n    # example.py\n    from constants import LARGE_MATRIX\n\n    def use_matrix():\n        # Use the LARGE_MATRIX constant\n        print(\"Matrix shape:\", LARGE_MATRIX.shape)\n        # Perform operations with LARGE_MATRIX\n\n    if __name__ == \"__main__\":\n        use_matrix()\n    ```\n\n4. **Access the constant**: You can now access the `LARGE_MATRIX` constant from any file in your project by importing it as shown above.\n\nRemember that while using this approach, the matrix is calculated and stored in memory only once when the `constants.py` module is first imported. Subsequent imports from other modules will not re-execute the calculation, thus preserving the result.\n\nAdditionally, while Python does not enforce immutability of variables, following the convention of using uppercase names for constants will help communicate to other developers (and remind yourself) that these variables should not be modified."
    }
]