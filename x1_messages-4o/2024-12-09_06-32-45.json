[
    {
        "role": "user",
        "content": "How can I display an image on a HTML page using Python Flask? I am trying to pass a filename of an image and render it on a template. Despite passing the actual name, it does not display on the page. The code I am using is:\n\n```\n@app.route('/', methods=['GET','POST'])\n@app.route('/start', methods=['GET','POST'])\ndef start():\n    person_to_show = 'tim'\n    profilepic_filename = os.path.join(people_dir, person_to_show, \"img.jpg\")\n    return render_template('start.html', profilepic_filename = profilepic_filename)\n```\n\nThe profilepic_filename equals to \"/data/tim/img.jpg\". I have tried using \"{{profilepic_filename}}\" and \"<img src=\"{{ url_for('data', filename='tim/img.jpg') }}\"></img>\" in the HTML, but neither of them worked. Also, I have tried using \"<img src=\"{{profilepic_filename}}\"></img>\", but it did not work either."
    },
    {
        "role": "assistant",
        "content": "To display an image on an HTML page using Flask, you need to ensure that the image file is accessible through a URL that your Flask application can serve. Here's a step-by-step guide to help you achieve this:\n\n1. **Organize Your Files**: Make sure your images are stored in a directory that Flask can serve as static files. Typically, this is a folder named `static` in your Flask project root.\n\n2. **Move Image to Static Directory**: Place the image in the `static` directory of your project. For example, if your image is at `/data/tim/img.jpg`, you should move it to `static/tim/img.jpg`.\n\n3. **Modify Your Flask Code**: Update your Flask route to pass the correct path to the template:\n\n    ```python\n    @app.route('/', methods=['GET', 'POST'])\n    @app.route('/start', methods=['GET', 'POST'])\n    def start():\n        person_to_show = 'tim'\n        profilepic_filename = f'tim/img.jpg'  # Relative path from the static folder\n        return render_template('start.html', profilepic_filename=profilepic_filename)\n    ```\n\n4. **Update Your HTML Template**: Use Flask's `url_for` function to generate the URL for the static file in your HTML template:\n\n    ```html\n    <!DOCTYPE html>\n    <html lang=\"en\">\n    <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>Profile Picture</title>\n    </head>\n    <body>\n        <img src=\"{{ url_for('static', filename=profilepic_filename) }}\" alt=\"Profile Picture\">\n    </body>\n    </html>\n    ```\n\n5. **Run Your Flask Application**: Make sure your Flask app is running and navigate to the appropriate route to check if the image is displayed correctly.\n\nBy following these steps, your Flask application should be able to serve and display the image correctly on your HTML page. Using the `static` directory and `url_for('static', filename=...)` is the key to serving static files like images in a Flask application."
    }
]