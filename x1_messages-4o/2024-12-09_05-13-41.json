[
    {
        "role": "user",
        "content": "I have a Python dictionary stored in a variable, which I am trying to write to a JSON file. However, the current code I'm using is writing each dictionary inline. I want each dictionary entry to be on a new line. Here's the dictionary I'm working with:\n```\nhostDict = {\"key1\": \"val1\", \"key2\": \"val2\", \"key3\": {\"sub_key1\": \"sub_val2\", \"sub_key2\": \"sub_val2\", \"sub_key3\": \"sub_val3\"}, \"key4\": \"val4\"}\n```\nHere's the part of my code that's writing to the .txt file:\n```\ng = open('data.txt', 'a')\nwith g as outfile:\n  json.dump(hostDict, outfile)\n```\nThis appends each dictionary to 'data.txt' but it does so inline. How can I modify this to write each dictionary entry on a new line?"
    },
    {
        "role": "assistant",
        "content": "To write each dictionary entry on a new line in a JSON file, you can use the `json.dump` function with a specified indentation. This will format the JSON data with each key-value pair on a new line, making it more readable. You can set the `indent` parameter in `json.dump` to achieve this. Here's how you can modify your code:\n\n```python\nimport json\n\nhostDict = {\n    \"key1\": \"val1\",\n    \"key2\": \"val2\",\n    \"key3\": {\n        \"sub_key1\": \"sub_val1\",\n        \"sub_key2\": \"sub_val2\",\n        \"sub_key3\": \"sub_val3\"\n    },\n    \"key4\": \"val4\"\n}\n\n# Open the file in append mode\nwith open('data.txt', 'a') as outfile:\n    # Write the dictionary to the file with indentation\n    json.dump(hostDict, outfile, indent=4)\n\n    # Add a newline at the end (optional, for separation if appending multiple dictionaries)\n    outfile.write(\"\\n\")\n```\n\nIn this code, `indent=4` will format the JSON data with an indentation of 4 spaces, making each key-value pair appear on a new line. You can adjust the indentation level to suit your preference. The `outfile.write(\"\\n\")` line is optional and adds a newline after the JSON object, which can be useful if you're appending multiple entries to the file."
    }
]