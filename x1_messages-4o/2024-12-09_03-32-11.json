[
    {
        "role": "user",
        "content": "I am working with Bokeh and I am trying to accomplish a task similar to `set_xlim` or `set_ylim` in Matplotlib. I create a figure inside a function using the following code:\n\n```python\nimport numpy\nfrom bokeh.plotting import figure, show, output_notebook\noutput_notebook()\n\ndef make_fig():\n    rows = cols = 16\n    img = numpy.ones((rows, cols), dtype=numpy.uint32)\n    view = img.view(dtype=numpy.uint8).reshape((rows, cols, 4))\n    view[:, :, 0] = numpy.arange(256)\n    view[:, :, 1] = 265 - numpy.arange(256)\n    fig = figure(x_range=[0, c], y_range=[0, rows])\n    fig.image_rgba(image=[img], x=[0], y=[0], dw=[cols], dh=[rows])\n    return fig\n```\n\nThen, I want to zoom in on the figure like below:\n\n```python\nfig = make_fig()\nshow(fig)\n```\n\nHowever, I am unsure how to perform a programmatic zoom in Bokeh. Can you guide me on how can I achieve this?"
    },
    {
        "role": "assistant",
        "content": "To programmatically zoom or set the x and y limits in Bokeh, you can adjust the `x_range` and `y_range` properties of your Bokeh figure after it's created. These properties can be set interactively or programmatically to achieve the desired zoom effect.\n\nIn your case, you can modify the `make_fig` function or adjust the range after the figure is created. Here's how you can do it:\n\n1. **Modify the `x_range` and `y_range` directly in your function:**\n\n```python\ndef make_fig():\n    rows = cols = 16\n    img = numpy.ones((rows, cols), dtype=numpy.uint32)\n    view = img.view(dtype=numpy.uint8).reshape((rows, cols, 4))\n    view[:, :, 0] = numpy.arange(256)\n    view[:, :, 1] = 265 - numpy.arange(256)\n    \n    # Set initial range\n    fig = figure(x_range=[0, cols], y_range=[0, rows])\n    fig.image_rgba(image=[img], x=[0], y=[0], dw=[cols], dh=[rows])\n    \n    # Adjust x_range and y_range for zooming in\n    fig.x_range.start = 4\n    fig.x_range.end = 12\n    fig.y_range.start = 4\n    fig.y_range.end = 12\n    \n    return fig\n\nfig = make_fig()\nshow(fig)\n```\n\n2. **Alternatively, adjust the range after the figure is created:**\n\n```python\nfig = make_fig()\n\n# Programmatically zoom by setting new range limits\nfig.x_range.start = 4\nfig.x_range.end = 12\nfig.y_range.start = 4\nfig.y_range.end = 12\n\nshow(fig)\n```\n\nIn both cases, you are setting the starting and ending values of the `x_range` and `y_range` to zoom into the specific section of the image. Adjust the start and end values according to the area you want to zoom into."
    }
]