[
    {
        "role": "user",
        "content": "I am using matplotlib to generate scatter plots, where each point corresponds to a named object. Is there a way to create labels for each point that only appear when the cursor hovers over the point? I have tried using the annotate command, but it creates a fixed label on the plot, which makes the plot unreadable due to the number of points I have. I am specifically interested in quickly identifying the outliers in my scatter plot."
    },
    {
        "role": "assistant",
        "content": "Yes, you can achieve interactive hover-over labels in a scatter plot using `matplotlib`. One way to do this is by integrating `matplotlib` with the `mplcursors` library, which allows you to display annotations when hovering over points. Here's how you can implement it:\n\nFirst, ensure that you have `mplcursors` installed. You can install it via pip if it's not already installed:\n\n```bash\npip install mplcursors\n```\n\nHere's a sample code to create a scatter plot with hover-over labels:\n\n```python\nimport matplotlib.pyplot as plt\nimport mplcursors\nimport numpy as np\n\n# Sample data\nx = np.random.rand(10)\ny = np.random.rand(10)\nnames = [f'Point {i}' for i in range(len(x))]\n\n# Create scatter plot\nfig, ax = plt.subplots()\nsc = ax.scatter(x, y)\n\n# Add hover-over labels\ncursor = mplcursors.cursor(sc, hover=True)\n\n@cursor.connect(\"add\")\ndef on_add(sel):\n    sel.annotation.set(text=names[sel.target.index])\n\nplt.show()\n```\n\n### Explanation:\n- **Data Preparation:** Random data is generated for demonstration, with `x` and `y` representing the coordinates and `names` holding the label for each point.\n- **Plotting:** The scatter plot is created using `ax.scatter(x, y)`.\n- **Adding Hover Labels:** The `mplcursors.cursor` function is used to create a cursor that tracks hover events on the scatter plot. The `on_add` function is connected to the cursor's \"add\" event, which customizes the annotation to display the name of the point being hovered over.\n\nRun this code, and you'll see that hovering over each point will display its label, allowing you to identify outliers or specific points without cluttering the entire plot with labels."
    }
]