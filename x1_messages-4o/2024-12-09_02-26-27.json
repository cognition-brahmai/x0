[
    {
        "role": "user",
        "content": "I am attempting to add a legend to my plot using matplotlib in Python. However, I am encountering an issue where the items in the legend are duplicated. How can I correct this error? Here is the code I am currently using:\n\n```python\nimport matplotlib.pylab as plt\n\nfig = plt.figure()\naxes = fig.add_axes([0.1, 0.1, 0.8, 0.8]) # left, bottom, width, height (range 0 to 1)\naxes.set_xlabel('x (m)')\naxes.set_ylabel('y (m)')\nfor i, representative in enumerate(representatives):\n    axes.plot([e[0] for e in representative], [e[1] for e in representative], color='b', label='Representatives')\naxes.scatter([e[0] for e in intersections], [e[1] for e in intersections], color='r', label='Intersections')\naxes.legend()\n```\n\nAfter running this code, I end up with a plot where the items are duplicated in the legend."
    },
    {
        "role": "assistant",
        "content": "The duplication of items in the legend is occurring because you are adding a label to the `plot` method inside a loop. Each iteration of the loop adds another entry to the legend with the same label. To fix this issue, you should only add the label once, outside the loop. Here's how you can modify your code:\n\n```python\nimport matplotlib.pylab as plt\n\nfig = plt.figure()\naxes = fig.add_axes([0.1, 0.1, 0.8, 0.8])  # left, bottom, width, height (range 0 to 1)\naxes.set_xlabel('x (m)')\naxes.set_ylabel('y (m)')\n\n# Plot representatives without adding a label inside the loop\nfor i, representative in enumerate(representatives):\n    axes.plot([e[0] for e in representative], [e[1] for e in representative], color='b')\n\n# Add the label once for representatives\naxes.plot([], [], color='b', label='Representatives')\n\n# Plot intersections and add the label\naxes.scatter([e[0] for e in intersections], [e[1] for e in intersections], color='r', label='Intersections')\n\n# Add the legend\naxes.legend()\n\nplt.show()\n```\n\nIn this modified code, an empty plot with the label for \"Representatives\" is added outside the loop. This ensures that the label is added only once to the legend. The `scatter` plot for \"Intersections\" is not inside a loop, so its label is added correctly without duplication."
    }
]