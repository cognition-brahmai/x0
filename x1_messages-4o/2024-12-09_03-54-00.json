[
    {
        "role": "user",
        "content": "Is there a way to compile a Python .py file from the command-line without executing it? I am working with an application that stores its Python extensions in a non-standard path with limited permissions. I'd like to compile the files during the installation without needing the overhead of Distutils. How can I accomplish this?"
    },
    {
        "role": "assistant",
        "content": "Yes, you can compile a Python `.py` file to a `.pyc` file from the command line without executing it by using the `py_compile` module. This can be done without using Distutils and is a straightforward way to compile Python files. Here's how you can do it:\n\n1. **Using the `py_compile` module directly:**\n\n   You can invoke the `py_compile` module from the command line to compile a Python file. Open your terminal or command prompt and run the following command:\n\n   ```bash\n   python -m py_compile your_script.py\n   ```\n\n   This command will generate a `.pyc` file in the `__pycache__` directory, which is located in the same directory as your source file.\n\n2. **Specifying the output directory:**\n\n   If you want to specify a different directory for the compiled `.pyc` file, you can use a small script to do so:\n\n   ```python\n   import py_compile\n\n   py_compile.compile('your_script.py', cfile='output_directory/your_script.pyc')\n   ```\n\n   Save this script as `compile_script.py` (or any name you prefer) and run it using:\n\n   ```bash\n   python compile_script.py\n   ```\n\n   This will compile `your_script.py` and place the `.pyc` file in the specified `output_directory`.\n\n3. **Batch compiling multiple files:**\n\n   If you have multiple Python files to compile, you can use the `compileall` module, which allows for directory-wide compilation:\n\n   ```bash\n   python -m compileall target_directory\n   ```\n\n   This will recursively compile all `.py` files in `target_directory` and its subdirectories.\n\nThese methods allow you to compile Python files to bytecode without executing them, which should suit your needs for compiling extensions during installation."
    }
]