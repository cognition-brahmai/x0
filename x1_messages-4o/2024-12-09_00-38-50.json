[
    {
        "role": "user",
        "content": "In Django's admin, how can I disable the links provided on the \"select item to change\" page so that users cannot go anywhere to edit the item? I am planning to limit what the users can do with this list to a set of drop down actions, with no actual editing of fields. I have tried to set `list_display_links = []` in my `HitAdmin` class as shown below, but this does not work and goes to the default. How can I have none of the fields display the link?\n\n```python\nclass HitAdmin(admin.ModelAdmin):\n    list_display = ('user','ip','user_agent','hitcount')\n    search_fields = ('ip','user_agent')\n    date_hierarchy = 'created'\n    list_display_links = [] # doesn't work, goes to default\n```"
    },
    {
        "role": "assistant",
        "content": "In Django's admin, if you want to disable the links in the list display so that users cannot click through to the edit page of an item, setting `list_display_links = []` won't work because Django defaults to making the first column a link if `list_display_links` is empty or not set. Instead, you can override the `get_queryset` method to restrict access or make the change page inaccessible by overriding the `change_view` method to redirect users or show a permission denied message.\n\nHere's how you can achieve this by overriding the `change_view` method to restrict users from accessing the change form:\n\n```python\nfrom django.contrib import admin\nfrom django.http import HttpResponseForbidden\n\nclass HitAdmin(admin.ModelAdmin):\n    list_display = ('user', 'ip', 'user_agent', 'hitcount')\n    search_fields = ('ip', 'user_agent')\n    date_hierarchy = 'created'\n\n    def has_change_permission(self, request, obj=None):\n        # Return False to disable the change permission globally\n        return False\n\n    def change_view(self, request, object_id, form_url='', extra_context=None):\n        # Optionally, you can redirect to a different page or show a custom message\n        return HttpResponseForbidden(\"You do not have permission to edit this item.\")\n\n# Register your model with the custom admin class\nadmin.site.register(YourModel, HitAdmin)\n```\n\n### Explanation:\n\n1. **has_change_permission Method**: This method is overridden to return `False`, which disables the change permission globally. This will prevent users from seeing the change link for each item.\n\n2. **change_view Method**: This method is overridden to return an `HttpResponseForbidden` response. This essentially blocks access to the change form. You can customize this response to redirect to another page or display a custom error message if desired.\n\nThis approach ensures that users cannot access the edit form for any item in the list, aligning with your requirement to limit actions to dropdown actions only."
    }
]