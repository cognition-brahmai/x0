[
    {
        "role": "user",
        "content": "I am currently using Windows 7 and Python 3.4.3 and I am trying to run a simple \"hello world\" CGI script using Python's http.server module. The script, helloworld.py, contains the following code:\n\n```python\nprint('Content-Type: text/html')\nprint( '<html>')\nprint( '<head></head>')\nprint( '<body>')\nprint( '<h2>Hello World</h2>')\nprint( '</body></html>')\n```\n\nI am running the server by going to the command line, navigating to the directory where Python is installed (C:\\Python) and running `python -m http.server`. However, when I go to my browser (Firefox) and navigate to `http://localhost:8000/hello.py`, instead of seeing \"Hello World\" displayed, I am seeing the content of the hello.py file. How can I correct this issue so that the correct HTML is displayed?"
    },
    {
        "role": "assistant",
        "content": "To run a CGI script using Python's `http.server` module, you need to make sure that the server is set up to handle CGI scripts. Simply running `python -m http.server` will not execute CGI scripts by default; instead, it serves the files as plain text. Here's how you can set it up correctly:\n\n1. **Use the CGIHTTPRequestHandler**: You need to specify the handler that will process CGI scripts. Instead of using the default `http.server`, use `http.server.CGIHTTPRequestHandler`.\n\n2. **Organize Your Files**: Ensure your CGI script is in a directory designated for CGI execution, typically called `cgi-bin`.\n\n3. **Start the Server with CGI Support**: Run the server with CGI support enabled. Here\u2019s a step-by-step guide:\n\n   - Move your `helloworld.py` script into a directory named `cgi-bin`. If it doesn\u2019t exist, create it inside your current directory.\n\n   - Navigate to the parent directory of `cgi-bin` (not inside `cgi-bin`) in the command line.\n\n   - Run the following command to start an HTTP server with CGI support:\n     ```bash\n     python -m http.server --cgi\n     ```\n\n4. **Access the Script**: In your browser, navigate to `http://localhost:8000/cgi-bin/helloworld.py`.\n\nThis setup tells the server to treat files in the `cgi-bin` directory as executable CGI scripts, which will be executed rather than served as plain text.\n\nIf you're still having issues, ensure that Python has the necessary permissions to execute scripts and that no firewall or security software is blocking the server's operation. Additionally, ensure that your script has the correct permissions to be executed."
    }
]