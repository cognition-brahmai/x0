[
    {
        "role": "user",
        "content": "How can I access the form submit button value in Django? I have a Django project with multiple forms (in different tags) on a single page, each of which can be submitted for different outcomes. All of them redirect the user back to the same page upon submission. In my view, I am using the pattern of submitting the form and then redirecting to the original page. However, I am having trouble accessing the value of the submit button to tell which form has been submitted. The first time my view function accesses the `request.POST` is through the following code:\n\n```python\nif request.POST['submit']=='Add':\n    #code to deal with the \"Add\" form\n```\n\nAnd in the template, the first form has a submit button like this:\n\n```html\n<input type=\"submit\" value=\"Add\">\n```\n\nHowever, upon form submission, I get an error:\n\n```\nKey 'submit' not found in <QueryDict: {u'clientyear': [u'2012'], u'csrfmiddlewaretoken': [u'be1f2f051f09f6ab0375fdf76cf6a4d7'], u'ben': [u'123405']}>\n```\n\nThis does not have a 'submit' key or any key with the value corresponding to the submit button I clicked. How can I access the value of the submit button or tell which of the forms has been submitted?"
    },
    {
        "role": "assistant",
        "content": "To determine which form was submitted on a page with multiple forms, you can use the `name` attribute of the submit button in your HTML template. When a form is submitted, the `name` and `value` of the submit button are included in the `POST` data. Here's how you can modify your setup to achieve this:\n\n### HTML Template\n\nAssign a unique `name` attribute to each submit button in your forms:\n\n```html\n<!-- Form 1 -->\n<form method=\"post\">\n    {% csrf_token %}\n    <!-- form fields here -->\n    <input type=\"submit\" name=\"action\" value=\"Add\">\n</form>\n\n<!-- Form 2 -->\n<form method=\"post\">\n    {% csrf_token %}\n    <!-- form fields here -->\n    <input type=\"submit\" name=\"action\" value=\"Update\">\n</form>\n\n<!-- Form 3 -->\n<form method=\"post\">\n    {% csrf_token %}\n    <!-- form fields here -->\n    <input type=\"submit\" name=\"action\" value=\"Delete\">\n</form>\n```\n\n### Django View\n\nIn your Django view, you can now check for the `name` and `value` of the submit button to determine which form was submitted:\n\n```python\ndef my_view(request):\n    if request.method == 'POST':\n        if 'action' in request.POST:\n            if request.POST['action'] == 'Add':\n                # Handle the \"Add\" form submission\n                pass\n            elif request.POST['action'] == 'Update':\n                # Handle the \"Update\" form submission\n                pass\n            elif request.POST['action'] == 'Delete':\n                # Handle the \"Delete\" form submission\n                pass\n\n    # Render your template with context\n    return render(request, 'your_template.html')\n```\n\n### Explanation\n\n- **Submit Button Naming**: Each submit button is given a `name` attribute (`name=\"action\"`) and a unique `value` that corresponds to the action it represents.\n- **POST Data Handling**: When the form is submitted, the `name` and `value` of the submit button are included in the `POST` data as a key-value pair. You can access it using `request.POST['action']`.\n- **Conditional Logic**: Based on the value of `request.POST['action']`, you can determine which form was submitted and execute the corresponding logic.\n\nThis approach helps you identify and handle multiple forms on the same page efficiently."
    }
]