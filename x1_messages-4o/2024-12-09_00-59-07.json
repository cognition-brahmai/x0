[
    {
        "role": "user",
        "content": "I am currently using the Python Imaging Library (PIL) to resize images. The default quality is set to 85. I am using the following code:\n\n```python\nimage = Image.open(filename)\nimage.thumbnail((x, y), img.ANTIALIAS)\n```\n\nThe `ANTIALIAS` parameter presumably gives the best quality. However, I want to know if it is possible to adjust the quality of the resized image or thumbnail beyond the default setting. Can the quality parameter be tweaked during the resizing process to achieve more granularity?"
    },
    {
        "role": "assistant",
        "content": "In the Python Imaging Library (PIL), now maintained under the name Pillow, the `thumbnail()` method primarily focuses on resizing the image while maintaining its aspect ratio, and the `Image.ANTIALIAS` (now `Image.LANCZOS` in newer versions of Pillow) is used as a resampling filter to enhance the quality of the resized image.\n\nThe `thumbnail()` function itself does not have a direct parameter to set the quality of the image. However, you can control the quality of the final saved image when you save it to a file. This is especially relevant for JPEG images, where you can specify the quality level at the time of saving. Here is how you can do it:\n\n```python\nfrom PIL import Image\n\n# Open the image\nimage = Image.open(filename)\n\n# Resize the image\nimage.thumbnail((x, y), Image.LANCZOS)\n\n# Save the image with a specified quality level\noutput_filename = 'resized_image.jpg'\nimage.save(output_filename, 'JPEG', quality=95)  # You can set the quality level between 1 (worst) and 95 (best)\n```\n\nIn this code, the `image.save()` method is used to save the image, and the `quality` parameter allows you to specify the quality level. The quality value ranges from 1 (lowest quality, smallest file size) to 95 (highest quality, largest file size), with the default being 75. By setting this parameter, you can adjust the quality of the saved image file.\n\nKeep in mind that increasing the quality setting will increase the file size. Additionally, this quality setting primarily affects lossy formats like JPEG. For lossless formats like PNG, this parameter has no effect, but there are other options like `optimize` and `compress_level` that can be used to manage file size and compression."
    }
]