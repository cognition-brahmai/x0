[
    {
        "role": "user",
        "content": "I am working with Python/Django and I have a string that is HTML encoded like this:\n\n```python\n'''&lt;img class=&quot;size-medium wp-image-113&quot;\\\n style=&quot;margin-left: 15px;&quot; title=&quot;su1&quot;\\\n src=&quot;http://blah.org/wp-content/uploads/2008/10/su1-300x194.jpg&quot;\\\n alt=&quot;&quot; width=&quot;300&quot; height=&quot;194&quot; /&gt;'''\n```\n\nI want to convert this string to HTML so that it can be rendered as an image by the browser instead of being displayed as text. The string is stored like this because I am using a web-scraping tool called BeautifulSoup, which scans a webpage and extracts certain content from it, returning the string in the format shown above. I have found solutions for doing this in C# but not in Python. Can anyone show me how to perform HTML decoding/encoding in Python/Django?"
    },
    {
        "role": "assistant",
        "content": "To convert an HTML-encoded string to a decoded HTML string in Python, you can use the `html` module, which provides utilities for handling HTML data. Specifically, you can use the `html.unescape()` function to decode HTML entities. Here's how you can do it:\n\n```python\nimport html\n\n# Your HTML encoded string\nencoded_string = '''&lt;img class=&quot;size-medium wp-image-113&quot;\\\n style=&quot;margin-left: 15px;&quot; title=&quot;su1&quot;\\\n src=&quot;http://blah.org/wp-content/uploads/2008/10/su1-300x194.jpg&quot;\\\n alt=&quot;&quot; width=&quot;300&quot; height=&quot;194&quot; /&gt;'''\n\n# Decode the HTML entities\ndecoded_string = html.unescape(encoded_string)\n\nprint(decoded_string)\n```\n\nAfter running this code, `decoded_string` will contain the HTML-decoded version of your input, which can be rendered properly by a web browser.\n\nIf you are using Django and need to render this decoded HTML within a template, make sure to mark the string as safe to prevent Django from escaping it again. You can do this using the `mark_safe` function from `django.utils.safestring`:\n\n```python\nfrom django.utils.safestring import mark_safe\n\n# Mark the decoded string as safe for rendering in Django templates\nsafe_html = mark_safe(decoded_string)\n```\n\nNow, `safe_html` can be used in your Django templates to render the HTML correctly."
    }
]