[
    {
        "role": "user",
        "content": "I have a pandas DataFrame where I want to keep only the rows that do not have NaN values in the 'EPS' column. How can I drop rows from the DataFrame based on NaN values in a specific column? Here is the DataFrame I am working with:\n\n```python\n>>> df\n                 STK_ID  EPS  cash\nSTK_ID RPT_Date                   \n601166 20111231  601166  NaN   NaN\n600036 20111231  600036  NaN    12\n600016 20111231  600016  4.3   NaN\n601009 20111231  601009  NaN   NaN\n601939 20111231  601939  2.5   NaN\n000001 20111231  000001  NaN   NaN\n```\n\nI want to end up with a DataFrame that looks like this:\n\n```python\n                  STK_ID  EPS  cash\nSTK_ID RPT_Date                   \n600016 20111231  600016  4.3   NaN\n601939 20111231  601939  2.5   NaN\n```"
    },
    {
        "role": "assistant",
        "content": "You can achieve this by using the `dropna()` method in pandas, which allows you to drop rows with missing values. To drop only the rows where the 'EPS' column has NaN values, you can specify the `subset` parameter. Here's how you can do it:\n\n```python\nimport pandas as pd\n\n# Sample DataFrame\ndata = {\n    'STK_ID': [601166, 600036, 600016, 601009, 601939, 000001],\n    'EPS': [float('nan'), float('nan'), 4.3, float('nan'), 2.5, float('nan')],\n    'cash': [float('nan'), 12, float('nan'), float('nan'), float('nan'), float('nan')]\n}\ndf = pd.DataFrame(data, index=pd.MultiIndex.from_tuples([\n    ('601166', '20111231'),\n    ('600036', '20111231'),\n    ('600016', '20111231'),\n    ('601009', '20111231'),\n    ('601939', '20111231'),\n    ('000001', '20111231')],\n    names=['STK_ID', 'RPT_Date']\n))\n\n# Drop rows where 'EPS' column has NaN values\ndf_cleaned = df.dropna(subset=['EPS'])\n\nprint(df_cleaned)\n```\n\nThis will produce the desired DataFrame:\n\n```\n                  STK_ID  EPS  cash\nSTK_ID RPT_Date                   \n600016 20111231  600016  4.3   NaN\n601939 20111231  601939  2.5   NaN\n```\n\nBy specifying `subset=['EPS']`, the method will only consider the 'EPS' column when deciding which rows to drop. If a row has a NaN value in the 'EPS' column, it will be removed from the DataFrame."
    }
]