[
    {
        "role": "user",
        "content": "How can I successfully copy already indented Python code or entire functions and classes into IPython without damaging the indentation? Whenever I attempt to do this, I encounter an `IndentationError` which states: `unindent does not match any outer indentation level`, as shown below:\n\n```\nIndentationError: unindent does not match any outer indentation level (<ipython-input-23-354f8c8be51b>, line 12)\n```\n\nA suggested solution is to use the `%paste` and `%cpaste` magic functions in IPython, but I'm not sure how to do this. Could you explain how these functions work?"
    },
    {
        "role": "assistant",
        "content": "To successfully paste indented Python code into IPython without encountering `IndentationError`, you can use the `%paste` and `%cpaste` magic functions. These functions are designed to handle multi-line input and maintain the correct indentation. Here's how you can use each of them:\n\n### Using `%paste`\n\n1. **Copy the Code**: First, copy the code you want to paste into the IPython console.\n2. **Use `%paste`**: In the IPython console, simply type `%paste` and press Enter. This command will paste the code from your clipboard, preserving the indentation.\n\n   Example:\n   ```python\n   %paste\n   ```\n\n   After you type `%paste` and press Enter, the code will be executed directly.\n\n### Using `%cpaste`\n\n1. **Initiate `%cpaste`**: In the IPython console, type `%cpaste` and press Enter. This will open a special paste mode.\n2. **Paste the Code**: Now, paste your code into the console. You will see the code appear as you paste it.\n3. **End Paste Mode**: Once you\u2019ve pasted all your code, finalize the paste by typing `--` on a new line and pressing Enter. This tells IPython that you have finished pasting your code.\n\n   Example:\n   ```python\n   %cpaste\n   Pasting code; enter '--' alone on the line to stop or use Ctrl-D.\n   :def example_function():\n   :    for i in range(5):\n   :        print(i)\n   :--\n   ```\n\n   The code will be executed after you type `--` and press Enter.\n\n### Tips\n\n- **%paste** is useful for quick pasting and execution, as it directly executes the code after pasting.\n- **%cpaste** gives you a chance to review the pasted code before execution and is useful if you're pasting large blocks of code or want to ensure everything is correct before running it.\n\nBy using these magic functions, you should be able to paste indented Python code into IPython without encountering indentation errors."
    }
]