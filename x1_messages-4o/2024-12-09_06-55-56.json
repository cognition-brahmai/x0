[
    {
        "role": "user",
        "content": "I am using argparse in Python and I have a snippet where I add an argument '--scan-time' with a default value set as 5. However, when I run '--help', the default value doesn't show up in the output. I would like to display the default value in the help message as well. The current output of '--help' looks like this:\n\n```bash\nusage: connection_check.py [-h]\n                             [--version] [--scan-time [SCAN_TIME]]\n\n          Test the reliability/uptime of a connection.\n\noptional arguments:\n-h, --help            show this help message and exit\n--version             show program's version number and exit\n--scan-time [SCAN_TIME]\n                    Wait SCAN-TIME seconds between status checks.\n```\n\nI want the output to be like:\n\n```bash\n--scan-time [SCAN_TIME]\n                    Wait SCAN-TIME seconds between status checks.\n                    (Default = 5)\n```\n\nI have inspected the help formatter code but it seems to have limited options. Is there a way to modify argparse to print the default value for '--scan-time' in a similar fashion, or should I subclass the help formatter?"
    },
    {
        "role": "assistant",
        "content": "To display the default value of an argument in the help message using argparse, you can use the `ArgumentDefaultsHelpFormatter` class, which is specifically designed to include the default values in the help output. You don't need to subclass the help formatter; instead, you can simply specify this formatter when creating your `ArgumentParser` object.\n\nHere's how you can modify your code to achieve the desired help output:\n\n```python\nimport argparse\n\ndef main():\n    parser = argparse.ArgumentParser(\n        description='Test the reliability/uptime of a connection.',\n        formatter_class=argparse.ArgumentDefaultsHelpFormatter\n    )\n    parser.add_argument('--version', action='version', version='%(prog)s 1.0')\n    parser.add_argument('--scan-time', type=int, default=5,\n                        help='Wait SCAN-TIME seconds between status checks.')\n    \n    args = parser.parse_args()\n\nif __name__ == '__main__':\n    main()\n```\n\nWith this modification, when you run the script with the `--help` option, you'll see the default value displayed in the help message like this:\n\n```bash\nusage: connection_check.py [-h] [--version] [--scan-time SCAN_TIME]\n\nTest the reliability/uptime of a connection.\n\noptional arguments:\n  -h, --help            show this help message and exit\n  --version             show program's version number and exit\n  --scan-time SCAN_TIME\n                        Wait SCAN-TIME seconds between status checks.\n                        (default: 5)\n```\n\nThis formatter automatically appends the default value to the help text of each argument, making it a convenient way to enhance the clarity of your command-line interface."
    }
]