[
    {
        "role": "user",
        "content": "I am encountering an issue when attempting to install Pillow 3.0.0 on my Ubuntu 14.04 system. Regardless of the method I use (either downloading and running `sudo python setup.py install` or executing `sudo -H pip install Pillow==3.0.0 --no-cache-dir`), I continually receive the following error:\n\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-build-3waMkf/Pillow/setup.py\", line 767, in <module>\n        zip_safe=not debug_build(),\n      File \"/usr/lib/python2.7/distutils/core.py\", line 151, in setup\n        dist.run_commands()\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n        self.run_command(cmd)\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n        cmd_obj.run()\n      File \"/usr/local/lib/python2.7/dist-packages/setuptools/command/install.py\", line 61, in run\n        return orig.install.run(self)\n      File \"/usr/lib/python2.7/distutils/command/install.py\", line 601, in run\n        self.run_command('build')\n      File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n        self.distribution.run_command(command)\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n        cmd_obj.run()\n      File \"/usr/lib/python2.7/distutils/command/build.py\", line 128, in run\n        self.run_command(cmd_name)\n      File \"/usr/lib/python2.7/distutils/cmd.py\", line 326, in run_command\n        self.distribution.run_command(command)\n      File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n        cmd_obj.run()\n      File \"/usr/lib/python2.7/distutils/command/build_ext.py\", line 337, in run\n        self.build_extensions()\n      File \"/tmp/pip-build-3waMkf/Pillow/setup.py\", line 515, in build_extensions\n        % (f, f))\n    ValueError: --enable-zlib requested but zlib not found, aborting.\n\n    ----------------------------------------\nCommand \"/usr/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip-build-3waMkf/Pillow/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-S_sHo7-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-build-3waMkf/Pillow\n\nCan you help me understand why this is happening and how to successfully install Pillow 3.0.0?"
    },
    {
        "role": "assistant",
        "content": "The error message you're encountering indicates that the installation process for Pillow 3.0.0 is failing because it cannot find the zlib library. This library is necessary for Pillow to handle compressed images like PNGs. To resolve this issue, you need to install the development packages for zlib, which provide the necessary headers and libraries for compilation.\n\nHere's how you can fix this issue on Ubuntu 14.04:\n\n1. **Install the Required Development Packages:**\n\n   Open a terminal and run the following command to install the zlib development package:\n\n   ```bash\n   sudo apt-get update\n   sudo apt-get install zlib1g-dev\n   ```\n\n   You might also need to install other development libraries that Pillow depends on. To cover the common dependencies, you can install the following packages:\n\n   ```bash\n   sudo apt-get install libjpeg8-dev libfreetype6-dev liblcms2-dev libopenjpeg-dev libtiff5-dev tcl8.6-dev tk8.6-dev python-tk\n   ```\n\n2. **Install Pillow Again:**\n\n   Once the required libraries are installed, try installing Pillow 3.0.0 again using pip:\n\n   ```bash\n   sudo -H pip install Pillow==3.0.0 --no-cache-dir\n   ```\n\n3. **Verify the Installation:**\n\n   After the installation, you can verify that Pillow has been installed correctly by opening a Python shell and importing it:\n\n   ```bash\n   python\n   >>> import PIL\n   >>> print(PIL.__version__)\n   ```\n\n   It should output `3.0.0` if the installation was successful.\n\nBy installing the necessary development packages, you should be able to resolve the compilation error and successfully install Pillow 3.0.0 on your Ubuntu 14.04 system."
    }
]