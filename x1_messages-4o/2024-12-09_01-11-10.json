[
    {
        "role": "user",
        "content": "I am trying to download a PDF file from a website and save it to my local disk using Python's requests module. However, I am facing issues with encoding errors, which results in blank PDFs. Here's the code I've tried:\n\n```python\nimport requests\n\nurl = 'http://www.hrecos.org//images/Data/forweb/HRTVBSH.Metadata.pdf'\n\nresponse = requests.get(url)\n\nwith open('/tmp/metadata.pdf', 'wb') as f:\n    f.write(response.text)\n```\n\nThis results in an error:\n\n```\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 11-14: ordinal not in range(128)\n```\n\nI also tried using the codecs module:\n\n```python\nimport codecs\n\nwith codecs.open('/tmp/metadata.pdf', 'wb', encoding='utf8') as f:\n    f.write(response.text)\n```\n\nI suspect it is a codec problem but I can't seem to get it to work. How can I correctly download and save the PDF file?"
    },
    {
        "role": "assistant",
        "content": "The issue you're encountering is due to the fact that you're trying to write the response content as text using `response.text`, which is intended for text data. PDF files are binary files, so you should use `response.content` instead. Here's how you can modify your code to correctly download and save the PDF file:\n\n```python\nimport requests\n\nurl = 'http://www.hrecos.org//images/Data/forweb/HRTVBSH.Metadata.pdf'\n\n# Send a GET request to the URL\nresponse = requests.get(url)\n\n# Check if the request was successful\nif response.status_code == 200:\n    # Open a file in binary write mode\n    with open('/tmp/metadata.pdf', 'wb') as f:\n        # Write the content of the response (binary data) to the file\n        f.write(response.content)\n    print(\"PDF downloaded successfully.\")\nelse:\n    print(\"Failed to download the PDF. Status code:\", response.status_code)\n```\n\nThis code will download the PDF file from the specified URL and save it to your local disk at the specified path (`/tmp/metadata.pdf`). Make sure that the directory `/tmp/` exists and that you have permission to write to it. You can change the path to any location where you have write access."
    }
]