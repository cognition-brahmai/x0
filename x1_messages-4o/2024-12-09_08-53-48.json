[
    {
        "role": "user",
        "content": "What is the code to create a web application using PHP and MySQL that can store and retrieve a user's contact information (name, email, address, etc)?"
    },
    {
        "role": "assistant",
        "content": "Creating a simple web application using PHP and MySQL to store and retrieve a user's contact information involves several steps. Below is a basic example that demonstrates how to set up the necessary components.\n\n### Prerequisites:\n- A web server with PHP installed (e.g., XAMPP, WAMP, or a live server).\n- MySQL database.\n\n### Step 1: Create a MySQL Database and Table\n\n1. **Create a Database:**\n   ```sql\n   CREATE DATABASE contact_db;\n   ```\n\n2. **Create a Table:**\n   ```sql\n   USE contact_db;\n\n   CREATE TABLE contacts (\n       id INT AUTO_INCREMENT PRIMARY KEY,\n       name VARCHAR(255) NOT NULL,\n       email VARCHAR(255) NOT NULL,\n       address TEXT,\n       phone VARCHAR(15)\n   );\n   ```\n\n### Step 2: Create a PHP Script for Form Submission\n\n**form.html**: This file contains the HTML form to collect user data.\n```html\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <title>Contact Form</title>\n</head>\n<body>\n    <h1>Contact Information</h1>\n    <form action=\"submit.php\" method=\"post\">\n        <label for=\"name\">Name:</label>\n        <input type=\"text\" name=\"name\" required><br>\n\n        <label for=\"email\">Email:</label>\n        <input type=\"email\" name=\"email\" required><br>\n\n        <label for=\"address\">Address:</label>\n        <textarea name=\"address\"></textarea><br>\n\n        <label for=\"phone\">Phone:</label>\n        <input type=\"text\" name=\"phone\"><br>\n\n        <input type=\"submit\" value=\"Submit\">\n    </form>\n</body>\n</html>\n```\n\n**submit.php**: This file processes the form submission and stores the data in the database.\n```php\n<?php\n$servername = \"localhost\";\n$username = \"root\"; // Replace with your MySQL username\n$password = \"\"; // Replace with your MySQL password\n$dbname = \"contact_db\";\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Prepare and bind\n$stmt = $conn->prepare(\"INSERT INTO contacts (name, email, address, phone) VALUES (?, ?, ?, ?)\");\n$stmt->bind_param(\"ssss\", $name, $email, $address, $phone);\n\n// Set parameters and execute\n$name = $_POST['name'];\n$email = $_POST['email'];\n$address = $_POST['address'];\n$phone = $_POST['phone'];\n$stmt->execute();\n\necho \"New record created successfully\";\n\n$stmt->close();\n$conn->close();\n?>\n```\n\n### Step 3: Create a PHP Script to Display Stored Data\n\n**display.php**: This file retrieves and displays the stored contact information from the database.\n```php\n<?php\n$servername = \"localhost\";\n$username = \"root\"; // Replace with your MySQL username\n$password = \"\"; // Replace with your MySQL password\n$dbname = \"contact_db\";\n\n// Create connection\n$conn = new mysqli($servername, $username, $password, $dbname);\n\n// Check connection\nif ($conn->connect_error) {\n    die(\"Connection failed: \" . $conn->connect_error);\n}\n\n// Retrieve data\n$sql = \"SELECT id, name, email, address, phone FROM contacts\";\n$result = $conn->query($sql);\n\nif ($result->num_rows > 0) {\n    echo \"<h1>Contact List</h1><table border='1'><tr><th>ID</th><th>Name</th><th>Email</th><th>Address</th><th>Phone</th></tr>\";\n    while($row = $result->fetch_assoc()) {\n        echo \"<tr><td>\".$row[\"id\"].\"</td><td>\".$row[\"name\"].\"</td><td>\".$row[\"email\"].\"</td><td>\".$row[\"address\"].\"</td><td>\".$row[\"phone\"].\"</td></tr>\";\n    }\n    echo \"</table>\";\n} else {\n    echo \"0 results\";\n}\n\n$conn->close();\n?>\n```\n\n### Instructions:\n1. Set up your web server and ensure PHP and MySQL are running.\n2. Create the database and table using the SQL commands provided.\n3. Save the HTML and PHP files into your web server's document root.\n4. Open `form.html` in your web browser to submit contact information.\n5. Access `display.php` to view the stored contacts.\n\nThis example is a basic starting point. In a production environment, you should consider additional security measures, such as input validation, prepared statements, and secure password storage."
    }
]