[
    {
        "role": "user",
        "content": "How can I extract the text within the <title> tags from an HTML document and set it as the title of the webpage using C# code? The HTML document includes a <head> tag with a <title> tag that holds the webpage title, and a <body> tag with the main content of the page in plain text."
    },
    {
        "role": "assistant",
        "content": "To extract the text within the `<title>` tags from an HTML document and set it as the title of the webpage using C#, you can utilize the `HtmlAgilityPack` library. This library provides a way to parse and manipulate HTML documents. Below is a step-by-step guide and a sample code to achieve this:\n\n1. **Install HtmlAgilityPack**: First, you need to add the HtmlAgilityPack library to your project. You can do this via NuGet Package Manager by running the following command in the Package Manager Console:\n\n   ```\n   Install-Package HtmlAgilityPack\n   ```\n\n2. **Extract and Set the Title**: Use the following C# code to load the HTML document, extract the title, and set it as needed.\n\n```csharp\nusing System;\nusing HtmlAgilityPack;\n\nclass Program\n{\n    static void Main()\n    {\n        // Load your HTML document\n        var htmlDocument = new HtmlDocument();\n        string htmlContent = @\"\n            <html>\n                <head>\n                    <title>Your Page Title</title>\n                </head>\n                <body>\n                    <p>Main content of the page.</p>\n                </body>\n            </html>\";\n        \n        htmlDocument.LoadHtml(htmlContent);\n\n        // Find the title node\n        var titleNode = htmlDocument.DocumentNode.SelectSingleNode(\"//title\");\n\n        if (titleNode != null)\n        {\n            // Extract the title text\n            string pageTitle = titleNode.InnerText;\n            Console.WriteLine(\"Page Title: \" + pageTitle);\n\n            // Set the title as needed (for demonstration, just printing it)\n            // In a web application, you could set this to a label or a title tag dynamically\n        }\n        else\n        {\n            Console.WriteLine(\"No title found in the document.\");\n        }\n    }\n}\n```\n\n### Explanation:\n\n- **Loading the HTML Document**: We create a `HtmlDocument` instance and load the HTML content into it using `LoadHtml` method.\n- **Selecting the Title Node**: Using XPath query `//title`, we select the `<title>` node from the document.\n- **Extracting and Using the Title**: We then access the `InnerText` property of the title node to extract the text within the `<title>` tags. This text can be used as needed, for example, setting it dynamically in a web application.\n\nThis approach will help you extract the title from an HTML document and use it as per your application's requirement."
    }
]