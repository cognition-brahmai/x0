[
    {
        "role": "user",
        "content": "I am trying to add an extra field to my model form in Django. I have defined a widget for this extra field in the Meta class of my form, like this:\n\n```python\nclass MyForm(forms.ModelForm):\n    extra_field = forms.CharField()\n    class Meta:\n        model = MyModel\n        widgets = {\n            'extra_field': forms.Textarea(attrs={'placeholder': u'Bla bla'}),\n        }\n```\nHowever, it appears that the widget definition for 'extra_field' in the Meta class is ignored as I'm getting a basic input tag instead of a textarea on the template. When I specify the widget directly on the field declaration, it works as expected:\n\n```python\nclass MyForm(forms.ModelForm):\n    extra_field = forms.CharField(widget=forms.Textarea())\n    class Meta:\n        model = MyModel\n```\n\nCould you explain why my first approach does not work and what I am doing wrong?"
    },
    {
        "role": "assistant",
        "content": "In Django's `ModelForm`, the `Meta` class is primarily used to define information about the model fields that are being used in the form. The `widgets` dictionary inside the `Meta` class is specifically meant for customizing widgets of fields that are directly tied to the model, i.e., fields that exist in the model itself.\n\nWhen you add an extra field like `extra_field` directly to the form, it's not a field that comes from the model. Therefore, the `widgets` definition in the `Meta` class does not apply to it. That's why your first approach does not work.\n\nInstead, you need to define the widget directly on the field declaration itself, as you've done in your second approach. This is the correct way to customize the widget for fields that are not part of the model:\n\n```python\nclass MyForm(forms.ModelForm):\n    extra_field = forms.CharField(widget=forms.Textarea(attrs={'placeholder': u'Bla bla'}))\n    \n    class Meta:\n        model = MyModel\n        # Define widgets for model fields only here\n```\n\nIn summary, use the `Meta` class's `widgets` only for fields that exist on the model. For extra fields added directly to the form, you must specify the widget when declaring the field."
    }
]