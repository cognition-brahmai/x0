[
    {
        "role": "user",
        "content": "I am using plotly for Python and I'm having trouble setting the x and y axis to have the same scale. Here is my current layout:\n\n```python\nlayout = Layout(\n    xaxis=XAxis(\n        range=[-150, 150],\n        showgrid=True,\n        zeroline=True,\n        showline=True,\n        gridcolor='#bdbdbd',\n        gridwidth=2,\n        zerolinecolor='#969696',\n        zerolinelinewidth=4,\n        linecolor='#636363',\n        linewidth=6\n    ),\n    yaxis=YAxis(\n        range=[-150,150],\n        showgrid=True,\n        zeroline=True,\n        showline=True,\n        gridcolor='#bdbdbd',\n        gridwidth=2,\n        zerolinecolor='#969696',\n        zerolinelinewidth=4,\n        linecolor='#636363',\n        linewidth=6\n    )\n)\n```\n\nHowever, the scale is different for the x and y axis, affecting my visualization. How can I get a grid with square cells?"
    },
    {
        "role": "assistant",
        "content": "To ensure that your x and y axes have the same scale and that your grid cells are square in Plotly, you need to set the aspect ratio of your plot to 'equal'. You can achieve this by using the `layout` attribute `yaxis_scaleanchor` and `yaxis_scaleratio`. Here's how you can modify your layout to achieve this:\n\n```python\nfrom plotly.graph_objs import Layout, XAxis, YAxis\n\nlayout = Layout(\n    xaxis=XAxis(\n        range=[-150, 150],\n        showgrid=True,\n        zeroline=True,\n        showline=True,\n        gridcolor='#bdbdbd',\n        gridwidth=2,\n        zerolinecolor='#969696',\n        zerolinewidth=4,\n        linecolor='#636363',\n        linewidth=6\n    ),\n    yaxis=YAxis(\n        range=[-150, 150],\n        showgrid=True,\n        zeroline=True,\n        showline=True,\n        gridcolor='#bdbdbd',\n        gridwidth=2,\n        zerolinecolor='#969696',\n        zerolinewidth=4,\n        linecolor='#636363',\n        linewidth=6,\n        \n        # Ensures the aspect ratio is equal\n        scaleanchor=\"x\",\n        scaleratio=1\n    )\n)\n\n# Use this layout when creating your Plotly figure\n# For example:\n# fig = go.Figure(data=[your_data], layout=layout)\n```\n\nBy setting `scaleanchor` to `\"x\"` and `scaleratio` to `1`, you are instructing Plotly to keep the y-axis scale anchored to the x-axis with a 1:1 ratio, ensuring that one unit on the x-axis is the same length as one unit on the y-axis, which results in square grid cells."
    }
]