[
    {
        "role": "user",
        "content": "I am currently using IPython notebooks and I am trying to figure out a way to select to create either a 2.x or 3.x python notebook in IPython. Initially, I had Anaconda, which required a change in the global environment variable to select the python version I wanted, and then IPython could be started. However, this was not the solution I was looking for, so I uninstalled Anaconda and set up my own installation using MacPorts and PiP. Even now, I still have to use the command \"port select --set python <python version>\" to switch between python 2.x and 3.x, which is not any better than the Anaconda solution. Is there a way to select what version of python I want to use after I start an IPython notebook, ideally with my current MacPorts build?"
    },
    {
        "role": "assistant",
        "content": "To manage multiple Python environments and switch between Python versions in Jupyter (formerly IPython) notebooks, you can use virtual environments and Jupyter kernels. Here's a step-by-step guide to setting it up:\n\n1. **Install Virtualenv**: First, make sure you have `virtualenv` and `virtualenvwrapper` installed. You can install them using pip:\n\n   ```bash\n   pip install virtualenv virtualenvwrapper\n   ```\n\n2. **Create Virtual Environments**: Create two separate virtual environments, one for Python 2.x and another for Python 3.x.\n\n   For Python 2.x:\n   ```bash\n   virtualenv -p python2.7 py2_env\n   ```\n\n   For Python 3.x:\n   ```bash\n   virtualenv -p python3 py3_env\n   ```\n\n3. **Activate the Environment**: Activate each environment when you want to use it.\n\n   For Python 2.x:\n   ```bash\n   source py2_env/bin/activate\n   ```\n\n   For Python 3.x:\n   ```bash\n   source py3_env/bin/activate\n   ```\n\n4. **Install Jupyter in Each Environment**: With the environment activated, install Jupyter Notebook.\n\n   ```bash\n   pip install jupyter\n   ```\n\n5. **Add Kernel for Each Environment**: Add a Jupyter kernel for each environment so you can select it in the notebook interface.\n\n   For Python 2.x:\n   ```bash\n   python -m ipykernel install --user --name=python2\n   ```\n\n   For Python 3.x:\n   ```bash\n   python -m ipykernel install --user --name=python3\n   ```\n\n6. **Start Jupyter Notebook**: You can now start Jupyter Notebook, and you will be able to select the Python version (kernel) you want for each notebook.\n\n   ```bash\n   jupyter notebook\n   ```\n\nWhen you create a new notebook or change the kernel of an existing one, you should see options like \"Python 2\" and \"Python 3\" in the kernel selection dropdown.\n\nBy following these steps, you can easily switch between Python versions without changing global settings on your system. This method keeps your environments isolated and manageable."
    }
]