[
    {
        "role": "user",
        "content": "Develop a Python script that connects to a MariaDB database, creates a table called \"products\" with columns for id, name, price, and quantity, and inserts 5 sample product records into the table.\nPLAINFORMAT"
    },
    {
        "role": "assistant",
        "content": "Sure, I can help you with that. To create a Python script that connects to a MariaDB database, creates a table named \"products,\" and inserts five sample records, you'll need to have Python and MariaDB installed on your system, along with the MariaDB connector for Python.\n\nFirst, make sure you have the MariaDB connector installed. You can install it using pip:\n\n```bash\npip install mariadb\n```\n\nNext, you'll need to know the connection details for your MariaDB server, including the host, user, password, and database name.\n\nHere's a step-by-step guide to achieve this:\n\n1. **Import the necessary module:**\n\n   ```python\n   import mariadb\n   ```\n\n2. **Establish a connection to the MariaDB database:**\n\n   ```python\n   try:\n       conn = mariadb.connect(\n           user=\"your_username\",\n           password=\"your_password\",\n           host=\"your_host\",\n           database=\"your_database\"\n       )\n   except mariadb.Error as e:\n       print(f\"Error connecting to MariaDB Platform: {e}\")\n       sys.exit(1)\n   ```\n\n   Replace `\"your_username\"`, `\"your_password\"`, `\"your_host\"`, and `\"your_database\"` with your actual database connection details.\n\n3. **Create a cursor object:**\n\n   ```python\n   cur = conn.cursor()\n   ```\n\n4. **Create the \"products\" table:**\n\n   ```python\n   cur.execute(\"\"\"\n   CREATE TABLE IF NOT EXISTS products (\n       id INT AUTO_INCREMENT PRIMARY KEY,\n       name VARCHAR(255) NOT NULL,\n       price DECIMAL(10, 2) NOT NULL,\n       quantity INT NOT NULL\n   )\n   \"\"\")\n   ```\n\n5. **Insert sample product records:**\n\n   ```python\n   sample_products = [\n       (\"Product A\", 25.50, 100),\n       (\"Product B\", 15.75, 200),\n       (\"Product C\", 30.00, 150),\n       (\"Product D\", 10.00, 300),\n       (\"Product E\", 20.25, 250)\n   ]\n\n   cur.executemany(\"\"\"\n   INSERT INTO products (name, price, quantity) VALUES (?, ?, ?)\n   \"\"\", sample_products)\n   ```\n\n6. **Commit the changes and close the connection:**\n\n   ```python\n   conn.commit()\n   conn.close()\n   ```\n\nPutting it all together, your complete script would look like this:\n\n```python\nimport mariadb\n\ntry:\n    conn = mariadb.connect(\n        user=\"your_username\",\n        password=\"your_password\",\n        host=\"your_host\",\n        database=\"your_database\"\n    )\nexcept mariadb.Error as e:\n    print(f\"Error connecting to MariaDB Platform: {e}\")\n    sys.exit(1)\n\ncur = conn.cursor()\n\ncur.execute(\"\"\"\nCREATE TABLE IF NOT EXISTS products (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    name VARCHAR(255) NOT NULL,\n    price DECIMAL(10, 2) NOT NULL,\n    quantity INT NOT NULL\n)\n\"\"\")\n\nsample_products = [\n    (\"Product A\", 25.50, 100),\n    (\"Product B\", 15.75, 200),\n    (\"Product C\", 30.00, 150),\n    (\"Product D\", 10.00, 300),\n    (\"Product E\", 20.25, 250)\n]\n\ncur.executemany(\"\"\"\nINSERT INTO products (name, price, quantity) VALUES (?, ?, ?)\n\"\"\", sample_products)\n\nconn.commit()\nconn.close()\n\nprint(\"Table created and sample data inserted successfully.\")\n```\n\nMake sure to replace the placeholder values with your actual database credentials.\n\nThis script does the following:\n\n- Connects to the specified MariaDB database.\n\n- Creates a table named \"products\" if it doesn't already exist.\n\n- Inserts five sample product records into the \"products\" table.\n\n- Commits the changes to the database and closes the connection.\n\nAfter running this script, you should have a \"products\" table in your database with the sample records inserted."
    }
]