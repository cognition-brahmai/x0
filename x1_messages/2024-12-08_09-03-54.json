[
    {
        "role": "user",
        "content": "In JavaScript, write a function that accepts an array of integers as input and returns a new array with each element squared. Ensure your function handles edge cases such as empty arrays or non-integer inputs gracefully. PLAINFORMAT"
    },
    {
        "role": "assistant",
        "content": "Sure, here's a JavaScript function that takes an array of integers, squares each element, and handles edge cases like empty arrays or non-integer inputs:\n\n```javascript\nfunction squareArray(arr) {\n  if (!Array.isArray(arr)) {\n    return \"Error: Input is not an array.\";\n  }\n\n  const result = [];\n  for (let i = 0; i < arr.length; i++) {\n    const element = arr[i];\n    if (typeof element === 'number' && Number.isInteger(element)) {\n      result.push(element * element);\n    } else {\n      return \"Error: Array contains non-integer elements.\";\n    }\n  }\n  return result;\n}\n```\n\n### Explanation:\n1. **Input Validation**: The function first checks if the input is an array using `Array.isArray(arr)`. If not, it returns an error message.\n2. **Processing the Array**:\n   - It initializes an empty array `result` to store the squared values.\n   - It iterates through each element of the input array.\n   - For each element, it checks if it is a number and an integer using `typeof element === 'number'` and `Number.isInteger(element)`.\n   - If the element is an integer, it squares it and pushes the result to the `result` array.\n3. **Error Handling**:\n   - If any element in the array is not an integer, the function returns an error message.\n   - If the array is empty, it simply returns an empty array.\n\nThis function ensures that only arrays of integers are processed and handles various edge cases gracefully."
    }
]