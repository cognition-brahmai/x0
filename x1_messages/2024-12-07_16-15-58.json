[
    {
        "role": "user",
        "content": "John has twice as many apples as oranges. He gives half of his apples and a third of his oranges to his friend Mary. Now he has 8 more apples than oranges. How many apples did John have initially?"
    },
    {
        "role": "assistant",
        "content": "Let's tackle this problem step by step. So, we have John who has twice as many apples as oranges. Let's denote the number of oranges he has as O. That means the number of apples he has is 2O.\n\nNow, John gives half of his apples and a third of his oranges to his friend Mary. So, he gives away (1/2)*(2O) apples and (1/3)*O oranges.\n\nLet's calculate how many apples and oranges he has left after giving some to Mary.\n\nApples left: 2O - (1/2)*(2O) = 2O - O = O\n\nOranges left: O - (1/3)*O = (2/3)*O\n\nAccording to the problem, after giving these to Mary, John has 8 more apples than oranges. So, the number of apples he has left is 8 more than the number of oranges he has left.\n\nSo, we can set up the equation:\n\nApples left = Oranges left + 8\n\nWhich is:\n\nO = (2/3)*O + 8\n\nNow, we need to solve for O.\n\nSubtract (2/3)*O from both sides:\n\nO - (2/3)*O = 8\n\n(1 - 2/3)*O = 8\n\n(1/3)*O = 8\n\nNow, multiply both sides by 3:\n\nO = 24\n\nSo, John initially had 24 oranges.\n\nSince he had twice as many apples as oranges, he had 2*24 = 48 apples initially.\n\nLet's check if this makes sense.\n\nHe gives half of his apples to Mary: half of 48 is 24 apples.\n\nHe gives a third of his oranges to Mary: a third of 24 is 8 oranges.\n\nSo, he has 48 - 24 = 24 apples left.\n\nAnd he has 24 - 8 = 16 oranges left.\n\nNow, does he have 8 more apples than oranges? 24 - 16 = 8. Yes, that checks out.\n\nSo, John initially had 48 apples.\n\n**Final Answer**\n\n\\[ \\boxed{48} \\]"
    }
]