[
    {
        "role": "user",
        "content": "In a village, there are 10 houses in a row. Each house is painted either red or blue. No three consecutive houses have the same color. How many different ways can these houses be painted?"
    },
    {
        "role": "assistant",
        "content": "Let's tackle this problem step by step. We have 10 houses in a row, each painted either red or blue, with the condition that no three consecutive houses have the same color. We need to find out how many different ways these houses can be painted.\n\nFirst, I think it would be helpful to consider smaller cases and see if I can find a pattern or a recurrence relation that I can apply to the larger problem.\n\nLet's start with 1 house:\n\n- It can be either red or blue.\n\n- So, there are 2 possibilities.\n\nNow, 2 houses:\n\n- Each house can be red or blue, and there are no restrictions on consecutive houses yet.\n\n- So, possibilities are: RR, RB, BR, BB.\n\n- That's 4 possibilities.\n\nNext, 3 houses:\n\n- Here, we have to ensure that no three consecutive houses are the same color.\n\n- Possible combinations:\n\n- RRR is not allowed.\n\n- RRB is allowed.\n\n- RBR is allowed.\n\n- RBB is allowed.\n\n- BRR is allowed.\n\n- BRB is allowed.\n\n- BBR is allowed.\n\n- BBB is not allowed.\n\n- So, out of 8 possible combinations (2^3), 2 are not allowed (RRR and BBB).\n\n- Therefore, 6 possibilities.\n\nWait a minute, maybe there's a better way to count this without listing all possibilities, especially since we're dealing with 10 houses.\n\nLet me try to find a recurrence relation.\n\nLet\u2019s denote:\n\n- Let \\(a_n\\) be the number of ways to paint n houses with the given condition.\n\nWe need to find \\(a_{10}\\).\n\nTo form a recurrence relation, I need to express \\(a_n\\) in terms of smaller problems, like \\(a_{n-1}\\) or \\(a_{n-2}\\).\n\nLet\u2019s think about the possible colorings based on the last few houses.\n\nConsider the last house:\n\n- If the last house is red, then the second last house can be either red or blue, but I need to consider the third last house to ensure that no three consecutive houses are red.\n\nWait, maybe it's better to categorize the sequences based on their endings.\n\nLet\u2019s define:\n\n- Let \\(r_n\\) be the number of valid sequences of length n that end with red.\n\n- Let \\(b_n\\) be the number of valid sequences of length n that end with blue.\n\nThen, \\(a_n = r_n + b_n\\).\n\nNow, let's find recurrence relations for \\(r_n\\) and \\(b_n\\).\n\nConsider a sequence of length n that ends with red:\n\n- If the previous house is blue, then the sequence is valid as long as the previous part is valid.\n\n- If the previous house is red, then the house before that must be blue to avoid three reds in a row.\n\nSimilarly, for sequences ending with blue:\n\n- If the previous house is red, then the sequence is valid as long as the previous part is valid.\n\n- If the previous house is blue, then the house before that must be red to avoid three blues in a row.\n\nThis seems a bit complicated. Maybe there's a simpler way.\n\nLet me look at the total number of sequences without the restriction: it's \\(2^{10} = 1024\\).\n\nBut with the restriction that no three consecutive houses are the same color, I need to subtract the sequences that have three or more consecutive houses of the same color.\n\nThis might be tricky, perhaps inclusion-exclusion could be used here.\n\nUsing inclusion-exclusion:\n\n- Total sequences: \\(2^{10} = 1024\\).\n\n- Subtract the sequences with at least one set of three consecutive houses of the same color.\n\n- But sequences with multiple sets of three consecutive houses might be subtracted multiple times, so I need to add back those sequences that have been subtracted too many times.\n\nThis seems complicated, especially since the houses are in a row, and the consecutive sets can overlap.\n\nMaybe there's a better approach.\n\nLet me try to find a recurrence relation by considering the end of the sequence.\n\nSuppose I have a valid sequence of n-1 houses. I can add a house of a different color to it, or the same color, depending on the last few houses.\n\nWait, perhaps I can think in terms of states.\n\nDefine the states based on the last two houses:\n\n- State 0: the last two houses are different colors.\n\n- State 1: the last two houses are the same color.\n\nIn state 0, I can add either color to the sequence, but if I add a house of the same color as the last one, I move to state 1. If I add a different color, I stay in state 0.\n\nIn state 1, I must add a house of the other color to avoid three consecutive houses of the same color, thus moving back to state 0.\n\nThis seems promising.\n\nLet\u2019s define:\n\n- Let \\(a_n\\) be the number of valid sequences of length n ending in state 0.\n\n- Let \\(b_n\\) be the number of valid sequences of length n ending in state 1.\n\nThen, the total number of valid sequences of length n is \\(a_n + b_n\\).\n\nNow, let's find recurrence relations for \\(a_n\\) and \\(b_n\\).\n\n- To reach state 0 at step n:\n\n- From state 0 at step n-1: can add either color, but if adding the same color as the last one, it moves to state 1. If adding a different color, stays in state 0.\n\n- From state 1 at step n-1: must add the other color to move to state 0.\n\nWait, perhaps I need to think differently.\n\nLet\u2019s consider that in state 0, the last two houses have different colors.\n\nIn state 1, the last two houses have the same color.\n\nThen:\n\n- From state 0, adding a house of the same color as the last one moves to state 1.\n\n- From state 0, adding a house of a different color stays in state 0.\n\n- From state 1, adding a house of the same color as the last one would create three consecutive houses of the same color, which is invalid.\n\n- From state 1, adding a house of the other color moves to state 0.\n\nTherefore, the recurrence relations are:\n\n- \\(a_n = a_{n-1} + b_{n-1}\\) (since from both states, you can reach state 0 by adding the other color).\n\n- \\(b_n = a_{n-1}\\) (since only from state 0 can you reach state 1 by adding the same color as the last one).\n\nThus, \\(a_n = a_{n-1} + b_{n-1}\\) and \\(b_n = a_{n-1}\\).\n\nTherefore, \\(a_n = a_{n-1} + b_{n-1}\\) and \\(b_n = a_{n-1}\\).\n\nSubstituting \\(b_{n-1} = a_{n-2}\\) into the first equation:\n\n\\(a_n = a_{n-1} + a_{n-2}\\).\n\nSimilarly, \\(b_n = a_{n-1}\\).\n\nTherefore, the total number of valid sequences of length n is:\n\n\\(a_n + b_n = a_{n-1} + a_{n-2} + a_{n-1} = 2a_{n-1} + a_{n-2}\\).\n\nWait, that seems off.\n\nWait, since \\(b_n = a_{n-1}\\), then \\(a_n + b_n = a_n + a_{n-1} = a_{n-1} + b_{n-1} + a_{n-1} = 2a_{n-1} + a_{n-2}\\).\n\nYes, that makes sense.\n\nSo, the total number of valid sequences of length n is \\(a_n + b_n = 2a_{n-1} + a_{n-2}\\).\n\nNow, I need initial conditions to start the recurrence.\n\nFor n=1:\n\n- One house, can be red or blue.\n\n- So, \\(a_1 = 2\\) (both sequences end with a single house, which doesn't have a previous house, so consider state 0).\n\n- \\(b_1 = 0\\) (no two consecutive houses yet).\n\nWait, maybe n=1 is not the best starting point.\n\nFor n=2:\n\n- Possible sequences: RR, RB, BR, BB.\n\n- Sequences ending with different colors (state 0): RB, BR.\n\n- Sequences ending with same colors (state 1): RR, BB.\n\n- So, \\(a_2 = 2\\), \\(b_2 = 2\\).\n\nFor n=3:\n\n- From state 0 (RB, BR):\n\n- Adding R: RBR (state 0), RBB (state 1).\n\n- Adding B: RBB (state 1), BRB (state 0).\n\n- From state 1 (RR, BB):\n\n- Adding R to RR is not allowed (RRR).\n\n- Adding B to BB is not allowed (BBB).\n\n- Adding B to RR: RRB (state 0).\n\n- Adding R to BB: BBR (state 0).\n\n- So, total valid sequences for n=3:\n\n- From a2: RBR, RBB, BRB, RRB, BBR.\n\n- But wait, RBB was already counted from a2.\n\n- Wait, maybe I should use the recurrence directly.\n\nGiven the recurrence:\n\n\\(a_n = a_{n-1} + b_{n-1}\\)\n\n\\(b_n = a_{n-1}\\)\n\nTotal: \\(a_n + b_n = 2a_{n-1} + a_{n-2}\\)\n\nLet\u2019s set initial conditions.\n\nFor n=2:\n\n\\(a_2 = 2\\), \\(b_2 = 2\\), total = 4.\n\nFor n=3:\n\n\\(a_3 = a_2 + b_2 = 2 + 2 = 4\\)\n\n\\(b_3 = a_2 = 2\\)\n\nTotal = 4 + 2 = 6.\n\nWhich matches our earlier count for n=3.\n\nGood.\n\nNow, let's compute up to n=10 using this recurrence.\n\nDefine:\n\n\\(t_n = a_n + b_n = 2a_{n-1} + a_{n-2}\\)\n\nWith:\n\nn=2: t2 = 4\n\nn=3: t3 = 6\n\nn=4: t4 = 2*a3 + a2 = 2*4 + 2 = 8 + 2 = 10\n\nWait, but according to the recurrence, t_n = 2*a_{n-1} + a_{n-2}\n\nBut a_{n-1} = a_{n-1}, and b_{n-1} = a_{n-2}\n\nWait, let's clarify.\n\nFrom earlier:\n\na_n = a_{n-1} + b_{n-1}\n\nb_n = a_{n-1}\n\nSo, t_n = a_n + b_n = a_{n-1} + b_{n-1} + a_{n-1} = 2*a_{n-1} + b_{n-1}\n\nBut b_{n-1} = a_{n-2}\n\nTherefore, t_n = 2*a_{n-1} + a_{n-2}\n\nWhich is what we have.\n\nAlternatively, since t_n = a_n + b_n, and a_n = a_{n-1} + b_{n-1} = t_{n-1}, and b_n = a_{n-1}, which is t_{n-2} - b_{n-2} = t_{n-2} - a_{n-3}\n\nThis seems complicated.\n\nMaybe it's easier to stick with the recurrence t_n = 2*a_{n-1} + a_{n-2}, and express a_n in terms of t.\n\nWait, perhaps there's a better way.\n\nLet me try to find a recurrence directly in terms of t_n.\n\nFrom the definitions:\n\na_n = a_{n-1} + b_{n-1}\n\nb_n = a_{n-1}\n\nt_n = a_n + b_n = a_{n-1} + b_{n-1} + a_{n-1} = 2*a_{n-1} + b_{n-1}\n\nBut b_{n-1} = a_{n-2}\n\nSo, t_n = 2*a_{n-1} + a_{n-2}\n\nBut a_{n-1} = t_{n-1} - b_{n-1} = t_{n-1} - a_{n-2}\n\nSo, t_n = 2*(t_{n-1} - a_{n-2}) + a_{n-2} = 2*t_{n-1} - 2*a_{n-2} + a_{n-2} = 2*t_{n-1} - a_{n-2}\n\nBut this seems to complicate things further.\n\nMaybe I should just accept that t_n = 2*a_{n-1} + a_{n-2}, and compute the sequence step by step.\n\nGiven that:\n\nn=2: t2=4\n\nn=3: t3=6\n\nn=4: t4=2*a3 + a2 = 2*4 + 2 = 10\n\nn=5: t5=2*a4 + a3 = 2*(a3 + b3) + a3 = 2*t4 + a3 = 2*10 + 4 = 24\n\nWait, but according to the recurrence, t5=2*a4 + a3\n\nBut a4 = a3 + b3 = t3 = 6\n\nWait, b3 = a2 = 2\n\nSo, a4 = 4 + 2 = 6\n\nTherefore, t5=2*6 + 4 = 12 + 4 = 16\n\nWait, but earlier I thought t5=24, but that's incorrect.\n\nSo, correcting:\n\nn=4: t4=2*a3 + a2=2*4 + 2=10\n\nn=5: t5=2*a4 + a3=2*6 +4=16\n\nn=6: t6=2*a5 + a4=2*(a4 + b4)+a4=2*(a4 + a3)+a4=2*(6 +4)+6=2*10 +6=26\n\nWait, perhaps I should compute a_n and b_n separately to avoid confusion.\n\nGiven:\n\na_n = a_{n-1} + b_{n-1}\n\nb_n = a_{n-1}\n\nt_n = a_n + b_n\n\nWith n=2: a2=2, b2=2, t2=4\n\nn=3: a3=a2 + b2=2+2=4, b3=a2=2, t3=6\n\nn=4: a4=a3 + b3=4+2=6, b4=a3=4, t4=10\n\nn=5: a5=a4 + b4=6+4=10, b5=a4=6, t5=16\n\nn=6: a6=a5 + b5=10+6=16, b6=a5=10, t6=26\n\nn=7: a7=a6 + b6=16+10=26, b7=a6=16, t7=42\n\nn=8: a8=a7 + b7=26+16=42, b8=a7=26, t8=68\n\nn=9: a9=a8 + b8=42+26=68, b9=a8=42, t9=110\n\nn=10: a10=a9 + b9=68+42=110, b10=a9=68, t10=178\n\nTherefore, the number of ways to paint 10 houses with no three consecutive houses of the same color is 178.\n\nWait, but let's double-check the calculations to make sure there are no mistakes.\n\nStarting from n=2:\n\nn2: a2=2, b2=2, t2=4\n\nn3: a3=2+2=4, b3=2, t3=6\n\nn4: a4=4+2=6, b4=4, t4=10\n\nn5: a5=6+4=10, b5=6, t5=16\n\nn6: a6=10+6=16, b6=10, t6=26\n\nn7: a7=16+10=26, b7=16, t7=42\n\nn8: a8=26+16=42, b8=26, t8=68\n\nn9: a9=42+26=68, b9=42, t9=110\n\nn10: a10=68+42=110, b10=68, t10=178\n\nYes, the calculations seem correct.\n\nTherefore, the number of different ways to paint the 10 houses is 178.\n\n**Final Answer**\n\n\\[ \\boxed{178} \\]"
    }
]