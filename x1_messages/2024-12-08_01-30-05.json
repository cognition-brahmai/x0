[
    {
        "role": "user",
        "content": "Write a C program that simulates a simple calculator. It should support addition, subtraction, multiplication, division, and modulo operations. Make sure to handle cases where division or modulo by zero occurs."
    },
    {
        "role": "assistant",
        "content": "Certainly! Below is a simple C program that simulates a basic calculator supporting addition, subtraction, multiplication, division, and modulo operations. It also handles cases where division or modulo by zero occurs.\n\n```c\n#include <stdio.h>\n\nint main() {\n    char operator;\n    double num1, num2;\n\n    printf(\"Enter an operator (+, -, *, /, %%): \");\n    scanf(\" %c\", &operator);\n\n    printf(\"Enter two numbers: \");\n    scanf(\"%lf %lf\", &num1, &num2);\n\n    switch (operator) {\n        case '+':\n            printf(\"Result: %.2lf\\n\", num1 + num2);\n            break;\n        case '-':\n            printf(\"Result: %.2lf\\n\", num1 - num2);\n            break;\n        case '*':\n            printf(\"Result: %.2lf\\n\", num1 * num2);\n            break;\n        case '/':\n            if (num2 != 0) {\n                printf(\"Result: %.2lf\\n\", num1 / num2);\n            } else {\n                printf(\"Error! Division by zero.\\n\");\n            }\n            break;\n        case '%':\n            if (num2 != 0) {\n                printf(\"Result: %.0lf\\n\", (long long)num1 % (long long)num2);\n            } else {\n                printf(\"Error! Modulo by zero.\\n\");\n            }\n            break;\n        default:\n            printf(\"Error! Invalid operator.\\n\");\n            break;\n    }\n\n    return 0;\n}\n```\n\n### Explanation:\n1. **Input Operator**: The program first prompts the user to enter an operator (+, -, *, /, %).\n2. **Input Numbers**: Then, it asks for two numbers on which the operation will be performed.\n3. **Switch Case**:\n   - **Addition**: Adds the two numbers.\n   - **Subtraction**: Subtracts the second number from the first.\n   - **Multiplication**: Multiplies the two numbers.\n   - **Division**: Divides the first number by the second. If the second number is zero, it prints an error message.\n   - **Modulo**: Computes the remainder of the division of the first number by the second. If the second number is zero, it prints an error message.\n4. **Default Case**: If an invalid operator is entered, it prints an error message.\n\nThis program ensures that division and modulo by zero are handled gracefully, preventing runtime errors."
    }
]