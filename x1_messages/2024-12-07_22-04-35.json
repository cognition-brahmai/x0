[
    {
        "role": "user",
        "content": "Write a Python script that connects to an SQLite database, creates a table called \"students\" with columns for name, age, and major, and inserts sample data into the table."
    },
    {
        "role": "assistant",
        "content": "Certainly! Below is a Python script that connects to an SQLite database, creates a table named \"students\" with columns for name, age, and major, and inserts some sample data into the table.\n\nFirst, ensure you have the `sqlite3` module available, which is included by default in Python's standard library.\n\nHere's the script:\n\n```python\nimport sqlite3\n\n# Connect to the SQLite database (or create it if it doesn't exist)\nconn = sqlite3.connect('students.db')\n\n# Create a cursor object to interact with the database\ncursor = conn.cursor()\n\n# Create the \"students\" table\ncursor.execute('''\nCREATE TABLE IF NOT EXISTS students (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT NOT NULL,\n    age INTEGER NOT NULL,\n    major TEXT NOT NULL\n)\n''')\n\n# Insert sample data into the \"students\" table\nsample_students = [\n    ('Alice Johnson', 20, 'Computer Science'),\n    ('Bob Smith', 22, 'Mathematics'),\n    ('Charlie Brown', 21, 'Physics'),\n    ('David Lee', 19, 'Chemistry'),\n    ('Emily Davis', 23, 'Biology')\n]\n\ncursor.executemany('''\nINSERT INTO students (name, age, major) VALUES (?, ?, ?)\n''', sample_students)\n\n# Commit the changes to the database\nconn.commit()\n\n# Close the connection\nconn.close()\n\nprint(\"Database created and sample data inserted successfully.\")\n```\n\n### Explanation:\n\n1. **Connecting to the Database:**\n   - `sqlite3.connect('students.db')` connects to an SQLite database named `students.db`. If the database doesn't exist, it will be created.\n\n2. **Creating a Table:**\n   - A cursor object is created to execute SQL commands.\n   - The `CREATE TABLE IF NOT EXISTS students ...` command creates a table named \"students\" with columns for `id`, `name`, `age`, and `major`. The `id` column is set as the primary key with auto-increment.\n\n3. **Inserting Sample Data:**\n   - A list of tuples `sample_students` contains sample data for the students.\n   - `cursor.executemany(...)` is used to insert multiple rows into the \"students\" table efficiently.\n\n4. **Committing Changes and Closing the Connection:**\n   - `conn.commit()` saves the changes made to the database.\n   - `conn.close()` closes the connection to the database.\n\n5. **Confirmation Message:**\n   - A print statement confirms that the database was created and sample data was inserted successfully.\n\nYou can run this script in your Python environment to create the database and insert the sample data."
    }
]