[
    {
        "role": "user",
        "content": "Write a Bash script that parses log files and generates a summary report of specific events.\nPLAINFORMAT"
    },
    {
        "role": "assistant",
        "content": "Certainly! Below is a simple Bash script that parses log files and generates a summary report of specific events. This script assumes that the log files are in a standard format and that you're looking for specific keywords or patterns within those logs.\n\n```bash\n#!/bin/bash\n\n# Define the directory containing the log files\nLOG_DIR=\"/path/to/log/files\"\n\n# Define the output report file\nREPORT_FILE=\"summary_report.txt\"\n\n# Define the keywords or patterns to search for\nPATTERNS=(\"error\" \"warning\" \"critical\")\n\n# Function to search for patterns in log files\nsearch_logs() {\n    local pattern=\"$1\"\n    local count=0\n    for log_file in \"$LOG_DIR\"/*; do\n        if [[ -f \"$log_file\" ]]; then\n            # Count occurrences of the pattern in the log file\n            grep -i \"$pattern\" \"$log_file\" | wc -l\n            let count+=$(grep -i \"$pattern\" \"$log_file\" | wc -l)\n        fi\n    done\n    echo \"$pattern: $count\"\n}\n\n# Main script starts here\necho \"Generating summary report...\"\n\n# Check if the log directory exists\nif [[ ! -d \"$LOG_DIR\" ]]; then\n    echo \"Log directory not found: $LOG_DIR\"\n    exit 1\nfi\n\n# Clear previous report file if exists\n> \"$REPORT_FILE\"\n\n# Search for each pattern and write to report file\nfor pattern in \"${PATTERNS[@]}\"; do\n    entry=$(search_logs \"$pattern\")\n    echo \"$entry\" >> \"$REPORT_FILE\"\ndone\n\necho \"Report generated: $REPORT_FILE\"\n```\n\n### Explanation:\n1. **Define Variables:**\n   - `LOG_DIR`: Directory where log files are stored.\n   - `REPORT_FILE`: Name of the output report file.\n   - `PATTERNS`: Array of keywords or patterns to search for in the logs.\n\n2. **Function `search_logs`:**\n   - Takes a pattern as an argument.\n   - Searches for the pattern in each log file in the specified directory (case-insensitive search).\n   - Counts the occurrences of the pattern and accumulates the total count.\n\n3. **Main Script:**\n   - Checks if the log directory exists.\n   - Clears any existing report file.\n   - Searches for each pattern in the log files and writes the results to the report file.\n\n### Usage:\n- Save the script to a file, e.g., `parse_logs.sh`.\n- Make the script executable: `chmod +x parse_logs.sh`.\n- Run the script: `./parse_logs.sh`.\n\nThis script is a basic example and can be expanded based on specific log formats or additional requirements."
    }
]