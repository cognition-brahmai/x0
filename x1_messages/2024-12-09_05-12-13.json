[
    {
        "role": "user",
        "content": "Design a Python script that scrapes weather data from a public API and displays the current temperature, humidity, and wind speed for a given city. The script should accept the city name as a command-line argument."
    },
    {
        "role": "assistant",
        "content": "I'd be happy to help you with that! Let's design a Python script that scrapes weather data from a public API and displays the current temperature, humidity, and wind speed for a given city. The script will accept the city name as a command-line argument.\n\nFirst, we need to choose a public API that provides weather data. One of the most popular options is the OpenWeatherMap API. It offers current weather data, forecasts, and more for various locations worldwide.\n\n## Steps to Complete the Task\n\n1. **Sign up for an API Key:**\n   - Go to the [OpenWeatherMap](https://openweathermap.org/) website.\n   - Sign up for a free account to get an API key.\n\n2. **Install Required Libraries:**\n   - We'll use the `requests` library to make HTTP requests to the API.\n   - Ensure you have `requests` installed. If not, install it using pip:\n     ```bash\n     pip install requests\n     ```\n\n3. **Design the Script:**\n   - Accept the city name from command-line arguments.\n   - Construct the API URL with the city name and API key.\n   - Make a request to the API and parse the JSON response.\n   - Extract and display the current temperature, humidity, and wind speed.\n\n4. **Handle Errors:**\n   - Manage cases where the city is not found or the API request fails.\n\n## Final Solution Code\n\n```python\nimport sys\nimport requests\n\ndef get_weather(city_name, api_key):\n    base_url = \"http://api.openweathermap.org/data/2.5/weather\"\n    params = {\n        'q': city_name,\n        'appid': api_key,\n        'units': 'metric'  # Use 'imperial' for Fahrenheit\n    }\n    response = requests.get(base_url, params=params)\n    \n    if response.status_code == 200:\n        data = response.json()\n        temperature = data['main']['temp']\n        humidity = data['main']['humidity']\n        wind_speed = data['wind']['speed']\n        print(f\"Temperature: {temperature}\u00b0C\")\n        print(f\"Humidity: {humidity}%\")\n        print(f\"Wind Speed: {wind_speed} m/s\")\n    else:\n        print(\"City not found or unable to retrieve data.\")\n\nif __name__ == \"__main__\":\n    if len(sys.argv) != 3:\n        print(\"Usage: python weather.py <city_name> <api_key>\")\n        sys.exit(1)\n    \n    city_name = sys.argv[1]\n    api_key = sys.argv[2]\n    get_weather(city_name, api_key)\n```\n\n## Explanation\n\n1. **Accepting Command-Line Arguments:**\n   - The script accepts two command-line arguments: the city name and the API key.\n   - Example usage:\n     ```bash\n     python weather.py \"London\" \"your_api_key_here\"\n     ```\n\n2. **Making API Request:**\n   - The script constructs the API URL with the provided city name and API key.\n   - It sets the units to 'metric' for Celsius temperature. Change it to 'imperial' for Fahrenheit.\n\n3. **Parsing Response:**\n   - If the response status code is 200, it parses the JSON data to extract temperature, humidity, and wind speed.\n   - It prints these values in a readable format.\n\n4. **Error Handling:**\n   - If the city is not found or there is an issue with the API request, it prints an error message.\n\nThis script provides a simple and effective way to retrieve and display current weather data for any given city using the OpenWeatherMap API."
    }
]