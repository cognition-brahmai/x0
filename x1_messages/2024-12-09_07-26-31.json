[
    {
        "role": "user",
        "content": "Write a Python script that uses Redis to store and retrieve key-value pairs. The script should accept user input for keys and values, store them in Redis, and then retrieve and display the stored data.\nPLAINFORMAT"
    },
    {
        "role": "assistant",
        "content": "Sure! To create a Python script that interacts with Redis to store and retrieve key-value pairs, you'll need to have Redis installed and running on your machine, as well as the `redis` Python package installed. You can install the `redis` package using pip if you haven't already:\n\n```bash\npip install redis\n```\n\nHere's a simple Python script that does what you're asking for:\n\n```python\nimport redis\n\n# Connect to localhost on default port\nr = redis.Redis(host='localhost', port=6379, db=0)\n\ndef main():\n    while True:\n        action = input(\"Do you want to 'set' a key-value pair or 'get' a value by key? Type 'quit' to exit.\\n\").strip().lower()\n        \n        if action == 'set':\n            key = input(\"Enter the key:\\n\").strip()\n            value = input(\"Enter the value:\\n\").strip()\n            r.set(key, value)\n            print(f\"Key '{key}' set to '{value}'.\")\n        \n        elif action == 'get':\n            key = input(\"Enter the key to retrieve:\\n\").strip()\n            value = r.get(key)\n            if value:\n                print(f\"The value for key '{key}' is '{value.decode()}'.\")\n            else:\n                print(f\"No value found for key '{key}'.\")\n        \n        elif action == 'quit':\n            print(\"Goodbye!\")\n            break\n        \n        else:\n            print(\"Invalid action. Please type 'set', 'get', or 'quit'.\")\n\nif __name__ == \"__main__\":\n    main()\n```\n\n### Explanation:\n\n1. **Connecting to Redis:**\n   - We use the `redis.Redis` class to connect to a local Redis server running on the default host and port.\n\n2. **Main Loop:**\n   - The script runs in a loop, repeatedly asking the user what action they want to perform: 'set', 'get', or 'quit'.\n   \n3. **Setting a Key-Value Pair:**\n   - If the user chooses 'set', they are prompted to enter a key and a value.\n   - The `r.set(key, value)` method stores the key-value pair in Redis.\n\n4. **Getting a Value by Key:**\n   - If the user chooses 'get', they are prompted to enter a key.\n   - The `r.get(key)` method retrieves the value associated with the key.\n   - If a value is found, it is decoded from bytes to a string and displayed; otherwise, a message is shown indicating that no value was found.\n\n5. **Quitting the Script:**\n   - If the user types 'quit', the script prints \"Goodbye!\" and exits the loop, terminating the script.\n\nThis script provides a simple interactive way to store and retrieve data from Redis using Python."
    }
]