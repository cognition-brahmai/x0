[
    {
        "role": "user",
        "content": "Design a SQL query that retrieves data from a hypothetical 'Employees' table. The query should return all employees who have been with the company for more than 5 years and earn over $60,000 annually. PLAINFORMAT"
    },
    {
        "role": "assistant",
        "content": "Sure, I can help with that! To design a SQL query for retrieving employees who have been with the company for more than 5 years and earn over $60,000 annually, we need to make some assumptions about the structure of the 'Employees' table. \n\nLet's assume the 'Employees' table has the following relevant columns:\n\n- EmployeeID: Unique identifier for each employee.\n\n- HireDate: The date when the employee was hired.\n\n- AnnualSalary: The annual salary of the employee.\n\nGiven these assumptions, the SQL query would look something like this:\n\n```sql\nSELECT *\nFROM Employees\nWHERE HireDate <= DATEADD(year, -5, GETDATE())\nAND AnnualSalary > 60000;\n```\n\nExplanation:\n\n1. **SELECT ***: This selects all columns from the 'Employees' table. If you only need specific columns, you can list them instead of using '*'.\n\n2. **FROM Employees**: Specifies the table from which to retrieve the data.\n\n3. **WHERE HireDate <= DATEADD(year, -5, GETDATE())**: This condition filters employees who have been hired more than 5 years ago. `DATEADD(year, -5, GETDATE())` calculates the date five years ago from the current date.\n\n4. **AND AnnualSalary > 60000**: This condition ensures that only employees earning more than $60,000 annually are selected.\n\nNote: The date functions used (`DATEADD` and `GETDATE`) are specific to SQL Server. If you're using a different SQL database system like MySQL or PostgreSQL, the functions might differ slightly.\n\n- In MySQL, you might use `DATE_SUB(CURDATE(), INTERVAL 5 YEAR)` instead of `DATEADD(year, -5, GETDATE())`.\n\n- In PostgreSQL, you can use `CURRENT_DATE - INTERVAL '5 years'`.\n\nSo, for MySQL, the query would be:\n\n```sql\nSELECT *\nFROM Employees\nWHERE HireDate <= DATE_SUB(CURDATE(), INTERVAL 5 YEAR)\nAND AnnualSalary > 60000;\n```\n\nAnd for PostgreSQL:\n\n```sql\nSELECT *\nFROM Employees\nWHERE HireDate <= CURRENT_DATE - INTERVAL '5 years'\nAND AnnualSalary > 60000;\n```\n\nMake sure to adjust the column names and table name according to your actual database schema."
    }
]