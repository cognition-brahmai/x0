[
    {
        "role": "user",
        "content": "Write a C++ program that implements a basic calculator supporting addition, subtraction, multiplication, and division operations. The program should accept input from the command line, validate the input, perform the specified operation, and display the result.\nPLAINFORMAT"
    },
    {
        "role": "assistant",
        "content": "Certainly! Below is a C++ program that functions as a basic calculator, supporting addition, subtraction, multiplication, and division. The program reads input from the command line, validates the input, performs the specified operation, and displays the result.\n\n```cpp\n#include <iostream>\n#include <cstdlib> // For std::exit\n\nint main() {\n    double num1, num2;\n    char operation;\n\n    std::cout << \"Basic Calculator\\n\";\n    std::cout << \"Enter the first number: \";\n    if (!(std::cin >> num1)) {\n        std::cerr << \"Error: Invalid input for the first number.\\n\";\n        std::exit(EXIT_FAILURE);\n    }\n\n    std::cout << \"Enter the operation (+, -, *, /): \";\n    if (!(std::cin >> operation)) {\n        std::cerr << \"Error: Invalid input for the operation.\\n\";\n        std::exit(EXIT_FAILURE);\n    }\n\n    std::cout << \"Enter the second number: \";\n    if (!(std::cin >> num2)) {\n        std::cerr << \"Error: Invalid input for the second number.\\n\";\n        std::exit(EXIT_FAILURE);\n    }\n\n    double result;\n    switch (operation) {\n        case '+':\n            result = num1 + num2;\n            break;\n        case '-':\n            result = num1 - num2;\n            break;\n        case '*':\n            result = num1 * num2;\n            break;\n        case '/':\n            if (num2 == 0) {\n                std::cerr << \"Error: Division by zero.\\n\";\n                std::exit(EXIT_FAILURE);\n            }\n            result = num1 / num2;\n            break;\n        default:\n            std::cerr << \"Error: Invalid operation.\\n\";\n            std::exit(EXIT_FAILURE);\n    }\n\n    std::cout << \"Result: \" << num1 << \" \" << operation << \" \" << num2 << \" = \" << result << std::endl;\n    return 0;\n}\n```\n\n### Explanation:\n1. **Input Handling:**\n   - The program prompts the user to enter two numbers and an operation.\n   - It uses `std::cin` to read the inputs and checks if the inputs are valid using conditional statements.\n\n2. **Validation:**\n   - If the input for numbers is not valid (e.g., alphabets instead of numbers), it displays an error message and exits.\n   - If the operation is not one of the supported operations (+, -, *, /), it displays an error message and exits.\n   - For division, it checks if the second number is zero to prevent division by zero errors.\n\n3. **Performing Operations:**\n   - Uses a `switch` statement to perform the specified operation.\n   - Calculates the result based on the operation and displays it.\n\n4. **Error Handling:**\n   - Uses `std::cerr` to display error messages.\n   - Uses `std::exit(EXIT_FAILURE)` to terminate the program in case of errors.\n\nThis program ensures that all inputs are validated and handles potential errors gracefully, providing a robust basic calculator functionality."
    }
]