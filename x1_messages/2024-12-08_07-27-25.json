[
    {
        "role": "user",
        "content": "In a class of 30 students, 12 play basketball, 15 play soccer, and 18 play volleyball. If 5 students play all three sports, how many students play exactly two sports?"
    },
    {
        "role": "assistant",
        "content": "Let's tackle this problem step by step. It's about finding out how many students play exactly two sports among basketball, soccer, and volleyball, given some numbers about how many play each sport and how many play all three.\n\nFirst, let's recall the principle of inclusion-exclusion for three sets. If we have three sets A, B, and C, the formula to find the total number of elements in at least one of the sets is:\n\n|A \u222a B \u222a C| = |A| + |B| + |C| - |A \u2229 B| - |A \u2229 C| - |B \u2229 C| + |A \u2229 B \u2229 C|\n\nIn this problem:\n\n- Total students, |U| = 30\n\n- Basketball players, |A| = 12\n\n- Soccer players, |B| = 15\n\n- Volleyball players, |C| = 18\n\n- Students playing all three sports, |A \u2229 B \u2229 C| = 5\n\nWe need to find the number of students who play exactly two sports. Let's denote:\n\n- |A \u2229 B| - |A \u2229 B \u2229 C| = number of students playing both basketball and soccer but not volleyball\n\n- |A \u2229 C| - |A \u2229 B \u2229 C| = number of students playing both basketball and volleyball but not soccer\n\n- |B \u2229 C| - |A \u2229 B \u2229 C| = number of students playing both soccer and volleyball but not basketball\n\nThe sum of these three quantities will give us the number of students playing exactly two sports.\n\nSo, our target is to find:\n\n(|A \u2229 B| - |A \u2229 B \u2229 C|) + (|A \u2229 C| - |A \u2229 B \u2229 C|) + (|B \u2229 C| - |A \u2229 B \u2229 C|))\n\nWhich simplifies to:\n\n|A \u2229 B| + |A \u2229 C| + |B \u2229 C| - 3|A \u2229 B \u2229 C|\n\nBut to find this, we first need to find |A \u2229 B|, |A \u2229 C|, and |B \u2229 C|.\n\nFrom the inclusion-exclusion principle:\n\n|A \u222a B \u222a C| = |A| + |B| + |C| - |A \u2229 B| - |A \u2229 C| - |B \u2229 C| + |A \u2229 B \u2229 C|\n\nWe know |A \u222a B \u222a C| \u2264 |U| = 30, but we need to confirm if all 30 students play at least one sport. The problem doesn't specify, so we'll assume that some students may not play any sport. However, to find the number of students playing exactly two sports, we can still use the formula above.\n\nLet me denote |A \u2229 B| = x, |A \u2229 C| = y, |B \u2229 C| = z.\n\nThen, from inclusion-exclusion:\n\n|A \u222a B \u222a C| = 12 + 15 + 18 - x - y - z + 5\n\nSimplify:\n\n|A \u222a B \u222a C| = 45 - (x + y + z) + 5 = 50 - (x + y + z)\n\nBut |A \u222a B \u222a C| \u2264 30, so:\n\n50 - (x + y + z) \u2264 30 \u21d2 x + y + z \u2265 20\n\nBut we need to find x + y + z - 3*5 = x + y + z - 15\n\nWait, our target is x + y + z - 15, and we have x + y + z \u2265 20, but we need an exact value.\n\nPerhaps there's another way to approach this. Maybe we can consider the total number of students playing at least one sport.\n\nLet\u2019s assume that some students don't play any sport. Let\u2019s denote the number of students playing at least one sport as n.\n\nThen, n = |A \u222a B \u222a C| = 50 - (x + y + z)\n\nBut n \u2264 30.\n\nMoreover, the number of students playing exactly one sport would be:\n\n|A| + |B| + |C| - 2(|A \u2229 B| + |A \u2229 C| + |B \u2229 C|) + 3|A \u2229 B \u2229 C|\n\nBut this seems complicated. Maybe I should use a different approach.\n\nLet\u2019s consider the total number of sport participations.\n\nTotal participations = number of students playing basketball + soccer + volleyball = 12 + 15 + 18 = 45\n\nHowever, this counts students playing multiple sports multiple times. For example, a student playing two sports is counted twice, and a student playing all three sports is counted three times.\n\nWe can express the total participations in terms of students playing exactly one, two, or three sports.\n\nLet\u2019s denote:\n\n- e1 = number of students playing exactly one sport\n\n- e2 = number of students playing exactly two sports\n\n- e3 = number of students playing exactly three sports\n\nWe know that e3 = 5 (given)\n\nAlso, e1 + e2 + e3 \u2264 30 (total students)\n\nMoreover, total participations = e1*1 + e2*2 + e3*3\n\nBecause:\n\n- Students playing exactly one sport contribute one participation each\n\n- Students playing exactly two sports contribute two participations each\n\n- Students playing exactly three sports contribute three participations each\n\nSo:\n\ne1 + 2e2 + 3e3 = 45\n\nWe also have:\n\ne1 + e2 + e3 \u2264 30\n\nBut since e3 = 5, we can substitute:\n\ne1 + 2e2 + 15 = 45 \u21d2 e1 + 2e2 = 30\n\nAnd e1 + e2 + 5 \u2264 30 \u21d2 e1 + e2 \u2264 25\n\nFrom e1 + 2e2 = 30, we can express e1 = 30 - 2e2\n\nSubstitute into e1 + e2 \u2264 25:\n\n30 - 2e2 + e2 \u2264 25 \u21d2 30 - e2 \u2264 25 \u21d2 -e2 \u2264 -5 \u21d2 e2 \u2265 5\n\nSo, e2 must be at least 5.\n\nBut we need to find the exact value of e2.\n\nWait, maybe we can assume that all students play at least one sport, i.e., e1 + e2 + e3 = 30\n\nThen, e1 + e2 = 25\n\nAnd from e1 + 2e2 = 30\n\nSubtract the first equation from the second:\n\n(e1 + 2e2) - (e1 + e2) = 30 - 25 \u21d2 e2 = 5\n\nSo, the number of students playing exactly two sports is 5.\n\nBut wait, does this make sense? Let's check.\n\nIf e2 = 5, and e3 = 5, then e1 = 25 - 5 = 20\n\nTotal participations: 20*1 + 5*2 + 5*3 = 20 + 10 + 15 = 45, which matches the total participations.\n\nAlso, check against inclusion-exclusion:\n\n|A \u222a B \u222a C| = e1 + e2 + e3 = 20 + 5 + 5 = 30, which matches the total number of students.\n\nSo, it seems consistent.\n\nAlternatively, if some students don't play any sport, then e1 + e2 + e3 < 30, but in that case, we would need more information to determine e2.\n\nGiven the problem's constraints and the information provided, assuming that all students play at least one sport leads to a consistent solution.\n\nTherefore, the number of students playing exactly two sports is 5.\n\n**Final Answer**\n\n\\[ \\boxed{5} \\]"
    }
]